---
title: 敏捷之道 (下)
description: 开发过程中每天付出一点小的努力，避免代码「腐烂」。
date: 2023-02-10
slug: 
image: 
draft: false
categories:
tags:
    - 读书笔记

---

# 敏捷之道

<高效程序员的 45 个习惯> 读书笔记

> 任何一个愚者都能够让事情变得越来越笨重，越来越复杂，越来越极端，需要旁观者的指点以及极大的勇气，才能得到豁然开朗的局面。

新项目刚开始，代码很容易理解和上手，随着开发过程的推进，项目不知不觉演变成一个庞然怪物。

是为什么让它最终变得难以掌控? 开发人员在完成任务时，可能会难挡诱惑为节省时间而走「捷径」。这些「捷径」往往只会推迟问题的爆发时间，而不是把它彻底解决掉。

最简单的解决方式，就是开发过程中每天付出一点小的努力，避免代码「腐烂」。

## 代码要清晰地表达意图

代码阅读的次数要远远超过编写的次数，所以在编写的时候值得花点功夫让它读起来更加简单。

例如:

+ 默认参数或可选参数会影响代码可读性，使其难以理解和调试，最好明确地指明参数。
+ 改动代码以修复 bug 或添加新功能时，应有条不紊，先理解代码做了什么，如何做的。

看看代码例子

```go
coffeeShop.PlaceOrder(2)
```

这个大概可以理解是在咖啡店下了订单，2 是什么意思呢?

不仿添加一些注释。

```go
coffeeShop.PlaceOrder(2) // 2: large cup
```

有时候，注释是为了帮写的不好的代码补漏，不仿考虑用枚举值来表达概念。

```go
const (
	Small = iota
  Medium 
  Large
)

coffeeShop.PlaceOrder(Large)
```

这段代码就很明白，是要一个大杯的咖啡。

作为一个优雅的开发者，应该时长提醒自己是否有版本啊让写出的代码更容易理解。

```go
result := val << 1
```

如果你擅长位运算，就会明白只是把 val 的值乘以 2。但对于没有类似背景的人来说，他们能明白吗? 对于团队中的新人，可能会挠头不已，抓耳挠腮，百思不得「琪姐」。

```go
result := val*2
```

用位移做乘法是在堆代码进行不必要且危险的性能优化，直接乘法看起来更清晰，不要表现得好像很聪明似的。



