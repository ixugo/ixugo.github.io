---
title: Go 1.24 的 map 更快
description: 
date: 2025-02-12
slug: 
image: 
draft: true
categories:
    - Go
tags:
    - 读书笔记
---

GO 1.24 有许多改进，但最有趣的更改之一是**引入了基于 Swiss table 的 map 实现**。此更新改善了 map 操作的性能，提高了效率。

在这篇文章中，我们将探讨 swiss table 是什么，为什么重要以及如何影响 go 程序。

## 什么是 Swiss Table?

swiss table 中文可以叫 "瑞士表"。

它最初由 Google 开发的哈希表设计，并以 C++ 语言实现:

+ **紧凑度**: 采用了一种巧妙的探测机制和元数据，以一种空间利用效率极高的方式存储键值对。
+ **性能**: 它通过将元数据存储在连续的内存区域来最大限度减少缓存未命中情况，从而实现快速查找、插入和删除操作。

Go 1.24 为其内置的映射（map）类型采用了这种设计，无需更改代码即可实现无缝升级。

## 优势是啥?

关键优势

+ **查询更快**:这种新设计减少了查找过程中的缓存未命中次数，在频繁读取映射的工作负载中，这一效果尤为显著。
+ **改进内存**:通过优化键值的存储方式，瑞士表（Swiss Table）实现方式能更高效地利用内存，减少大型 map 的开销。
+ **更优性能**: 如今，即使 Go 语言中的 map 数据填充得很密集，也能更高效地运行，从而减少了频繁调整大小的需求。

## 基准测试



