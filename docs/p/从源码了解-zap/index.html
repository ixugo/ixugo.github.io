<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='‚ö°ZAP ÁÆÄ‰ªã zap ÊòØ‰ªÄ‰πà? ‚ö°ZAP ÊòØuber ÂºÄÊ∫êÁöÑÊèê‰æõÂø´ÈÄüÔºåÁªìÊûÑÂåñÔºåÈ´òÊÄßËÉΩÁöÑÊó•ÂøóËÆ∞ÂΩïÂåÖ„ÄÇ
zap È´òÊÄßËÉΩ‰ΩìÁé∞Âú®Âì™Èáå? Âú®‰ªãÁªçzapÂåÖÁöÑ‰ºòÂåñÈÉ®ÂàÜ‰πãÂâçÔºåËÆ©Êàë‰ª¨Áúã‰∏ãzapÊó•ÂøóÂ∫ìÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂõæ
Â§ßÂ§öÊï∞Êó•ÂøóÂ∫ìÊèê‰æõÁöÑÊñπÂºèÊòØÂü∫‰∫éÂèçÂ∞ÑÁöÑÂ∫èÂàóÂåñÂíåÂ≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñÔºåËøôÁßçÊñπÂºè‰ª£‰ª∑È´òÊòÇÔºåËÄå Zap ÈááÂèñ‰∏çÂêåÁöÑÊñπÊ≥ï„ÄÇ
ÈÅøÂÖç interface{} ‰ΩøÁî®Âº∫Á±ªÂûãËÆæËÆ°
Â∞ÅË£ÖÂº∫Á±ªÂûãÔºåÊó†ÂèçÂ∞Ñ
‰ΩøÁî®Èõ∂ÂàÜÈÖçÂÜÖÂ≠òÁöÑ JSON ÁºñÁ†ÅÂô®ÔºåÂ∞ΩÂèØËÉΩÈÅøÂÖçÂ∫èÂàóÂåñÂºÄÈîÄÔºåÂÆÉÊØîÂÖ∂‰ªñÁªìÊûÑÂåñÊó•ÂøóÂåÖÂø´ 4 - 10 ÂÄç„ÄÇ
1 2 3 4 5 logger.Info(&amp;#34;failed to fetch URL&amp;#34;, zap.String(&amp;#34;url&amp;#34;, &amp;#34;https://baidu.com&amp;#34;), zap.Int(&amp;#34;attempt&amp;#34;, 3), zap.Duration(&amp;#34;backoff&amp;#34;, time.Second), ) ‰ΩøÁî® sync.Pool ‰ª•ÈÅøÂÖçËÆ∞ÂΩïÊ∂àÊÅØÊó∂ÁöÑÂÜÖÂ≠òÂàÜÈÖç ËØ¶ÊÉÖÂú®‰∏ãÊñá zapcore Ê®°Âùó‰ªãÁªç„ÄÇ
Example ÂÆâË£Ö 1 go get -u go.uber.org/zap Zap Êèê‰æõ‰∫Ü‰∏§ÁßçÁ±ªÂûãÁöÑ logger
SugaredLogger Logger Âú®ÊÄßËÉΩËâØÂ•Ω‰ΩÜ‰∏çÊòØÂÖ≥ÈîÆÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî® SugaredLoggerÔºåÂÆÉÊØîÂÖ∂‰ªñÁªìÊûÑÂåñÁöÑÊó•ÂøóÂåÖÂø´ 4-10 ÂÄçÔºåÂπ∂‰∏îÊîØÊåÅÁªìÊûÑÂåñÂíå printf È£éÊ†ºÁöÑAPIs„ÄÇ
‰æã‰∏Ä Ë∞ÉÁî® NewProduction ÂàõÂª∫loggerÂØπË±° 1 2 3 4 5 6 7 8 func TestSugar(t *testing.'>
<title>‰ªéÊ∫êÁ†Å‰∫ÜËß£ zap</title>

<link rel='canonical' href='https://blog.golang.space/p/%E4%BB%8E%E6%BA%90%E7%A0%81%E4%BA%86%E8%A7%A3-zap/'>

<link rel="stylesheet" href="/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css"><meta property='og:title' content='‰ªéÊ∫êÁ†Å‰∫ÜËß£ zap'>
<meta property='og:description' content='‚ö°ZAP ÁÆÄ‰ªã zap ÊòØ‰ªÄ‰πà? ‚ö°ZAP ÊòØuber ÂºÄÊ∫êÁöÑÊèê‰æõÂø´ÈÄüÔºåÁªìÊûÑÂåñÔºåÈ´òÊÄßËÉΩÁöÑÊó•ÂøóËÆ∞ÂΩïÂåÖ„ÄÇ
zap È´òÊÄßËÉΩ‰ΩìÁé∞Âú®Âì™Èáå? Âú®‰ªãÁªçzapÂåÖÁöÑ‰ºòÂåñÈÉ®ÂàÜ‰πãÂâçÔºåËÆ©Êàë‰ª¨Áúã‰∏ãzapÊó•ÂøóÂ∫ìÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂõæ
Â§ßÂ§öÊï∞Êó•ÂøóÂ∫ìÊèê‰æõÁöÑÊñπÂºèÊòØÂü∫‰∫éÂèçÂ∞ÑÁöÑÂ∫èÂàóÂåñÂíåÂ≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñÔºåËøôÁßçÊñπÂºè‰ª£‰ª∑È´òÊòÇÔºåËÄå Zap ÈááÂèñ‰∏çÂêåÁöÑÊñπÊ≥ï„ÄÇ
ÈÅøÂÖç interface{} ‰ΩøÁî®Âº∫Á±ªÂûãËÆæËÆ°
Â∞ÅË£ÖÂº∫Á±ªÂûãÔºåÊó†ÂèçÂ∞Ñ
‰ΩøÁî®Èõ∂ÂàÜÈÖçÂÜÖÂ≠òÁöÑ JSON ÁºñÁ†ÅÂô®ÔºåÂ∞ΩÂèØËÉΩÈÅøÂÖçÂ∫èÂàóÂåñÂºÄÈîÄÔºåÂÆÉÊØîÂÖ∂‰ªñÁªìÊûÑÂåñÊó•ÂøóÂåÖÂø´ 4 - 10 ÂÄç„ÄÇ
1 2 3 4 5 logger.Info(&amp;#34;failed to fetch URL&amp;#34;, zap.String(&amp;#34;url&amp;#34;, &amp;#34;https://baidu.com&amp;#34;), zap.Int(&amp;#34;attempt&amp;#34;, 3), zap.Duration(&amp;#34;backoff&amp;#34;, time.Second), ) ‰ΩøÁî® sync.Pool ‰ª•ÈÅøÂÖçËÆ∞ÂΩïÊ∂àÊÅØÊó∂ÁöÑÂÜÖÂ≠òÂàÜÈÖç ËØ¶ÊÉÖÂú®‰∏ãÊñá zapcore Ê®°Âùó‰ªãÁªç„ÄÇ
Example ÂÆâË£Ö 1 go get -u go.uber.org/zap Zap Êèê‰æõ‰∫Ü‰∏§ÁßçÁ±ªÂûãÁöÑ logger
SugaredLogger Logger Âú®ÊÄßËÉΩËâØÂ•Ω‰ΩÜ‰∏çÊòØÂÖ≥ÈîÆÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî® SugaredLoggerÔºåÂÆÉÊØîÂÖ∂‰ªñÁªìÊûÑÂåñÁöÑÊó•ÂøóÂåÖÂø´ 4-10 ÂÄçÔºåÂπ∂‰∏îÊîØÊåÅÁªìÊûÑÂåñÂíå printf È£éÊ†ºÁöÑAPIs„ÄÇ
‰æã‰∏Ä Ë∞ÉÁî® NewProduction ÂàõÂª∫loggerÂØπË±° 1 2 3 4 5 6 7 8 func TestSugar(t *testing.'>
<meta property='og:url' content='https://blog.golang.space/p/%E4%BB%8E%E6%BA%90%E7%A0%81%E4%BA%86%E8%A7%A3-zap/'>
<meta property='og:site_name' content='ixugo'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Êó•Âøó' /><meta property='article:published_time' content='2021-01-22T15:00:00&#43;00:00'/><meta property='article:modified_time' content='2021-01-22T15:00:00&#43;00:00'/>
<meta name="twitter:title" content="‰ªéÊ∫êÁ†Å‰∫ÜËß£ zap">
<meta name="twitter:description" content="‚ö°ZAP ÁÆÄ‰ªã zap ÊòØ‰ªÄ‰πà? ‚ö°ZAP ÊòØuber ÂºÄÊ∫êÁöÑÊèê‰æõÂø´ÈÄüÔºåÁªìÊûÑÂåñÔºåÈ´òÊÄßËÉΩÁöÑÊó•ÂøóËÆ∞ÂΩïÂåÖ„ÄÇ
zap È´òÊÄßËÉΩ‰ΩìÁé∞Âú®Âì™Èáå? Âú®‰ªãÁªçzapÂåÖÁöÑ‰ºòÂåñÈÉ®ÂàÜ‰πãÂâçÔºåËÆ©Êàë‰ª¨Áúã‰∏ãzapÊó•ÂøóÂ∫ìÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂõæ
Â§ßÂ§öÊï∞Êó•ÂøóÂ∫ìÊèê‰æõÁöÑÊñπÂºèÊòØÂü∫‰∫éÂèçÂ∞ÑÁöÑÂ∫èÂàóÂåñÂíåÂ≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñÔºåËøôÁßçÊñπÂºè‰ª£‰ª∑È´òÊòÇÔºåËÄå Zap ÈááÂèñ‰∏çÂêåÁöÑÊñπÊ≥ï„ÄÇ
ÈÅøÂÖç interface{} ‰ΩøÁî®Âº∫Á±ªÂûãËÆæËÆ°
Â∞ÅË£ÖÂº∫Á±ªÂûãÔºåÊó†ÂèçÂ∞Ñ
‰ΩøÁî®Èõ∂ÂàÜÈÖçÂÜÖÂ≠òÁöÑ JSON ÁºñÁ†ÅÂô®ÔºåÂ∞ΩÂèØËÉΩÈÅøÂÖçÂ∫èÂàóÂåñÂºÄÈîÄÔºåÂÆÉÊØîÂÖ∂‰ªñÁªìÊûÑÂåñÊó•ÂøóÂåÖÂø´ 4 - 10 ÂÄç„ÄÇ
1 2 3 4 5 logger.Info(&amp;#34;failed to fetch URL&amp;#34;, zap.String(&amp;#34;url&amp;#34;, &amp;#34;https://baidu.com&amp;#34;), zap.Int(&amp;#34;attempt&amp;#34;, 3), zap.Duration(&amp;#34;backoff&amp;#34;, time.Second), ) ‰ΩøÁî® sync.Pool ‰ª•ÈÅøÂÖçËÆ∞ÂΩïÊ∂àÊÅØÊó∂ÁöÑÂÜÖÂ≠òÂàÜÈÖç ËØ¶ÊÉÖÂú®‰∏ãÊñá zapcore Ê®°Âùó‰ªãÁªç„ÄÇ
Example ÂÆâË£Ö 1 go get -u go.uber.org/zap Zap Êèê‰æõ‰∫Ü‰∏§ÁßçÁ±ªÂûãÁöÑ logger
SugaredLogger Logger Âú®ÊÄßËÉΩËâØÂ•Ω‰ΩÜ‰∏çÊòØÂÖ≥ÈîÆÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî® SugaredLoggerÔºåÂÆÉÊØîÂÖ∂‰ªñÁªìÊûÑÂåñÁöÑÊó•ÂøóÂåÖÂø´ 4-10 ÂÄçÔºåÂπ∂‰∏îÊîØÊåÅÁªìÊûÑÂåñÂíå printf È£éÊ†ºÁöÑAPIs„ÄÇ
‰æã‰∏Ä Ë∞ÉÁî® NewProduction ÂàõÂª∫loggerÂØπË±° 1 2 3 4 5 6 7 8 func TestSugar(t *testing.">
    <link rel="shortcut icon" href="img/favicon.ico" />

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-192125643-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu0b04ba6d7249c9f90c92db974439eb8c_208246_300x0_resize_box_3.png" width="300"
                            height="321" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üßê</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">ixugo</a></h1>
            <h2 class="site-description">Ëµ∞Âá∫ËàíÈÄÇÂå∫</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/ixugo'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#zaphttpsgithubcomuber-gozap"><a href="https://github.com/uber-go/zap">‚ö°ZAP</a></a></li>
    <li><a href="#ÁÆÄ‰ªã">ÁÆÄ‰ªã</a>
      <ol>
        <li><a href="#zap-ÊòØ‰ªÄ‰πà">zap ÊòØ‰ªÄ‰πà?</a></li>
        <li><a href="#zap-È´òÊÄßËÉΩ‰ΩìÁé∞Âú®Âì™Èáå">zap È´òÊÄßËÉΩ‰ΩìÁé∞Âú®Âì™Èáå?</a></li>
      </ol>
    </li>
    <li><a href="#example">Example</a>
      <ol>
        <li><a href="#ÂÆâË£Ö">ÂÆâË£Ö</a></li>
        <li><a href="#a-idexample_1‰æã‰∏Ä-aË∞ÉÁî®-newproduction-ÂàõÂª∫loggerÂØπË±°"><!-- raw HTML omitted -->‰æã‰∏Ä <!-- raw HTML omitted -->Ë∞ÉÁî® NewProduction ÂàõÂª∫loggerÂØπË±°</a></li>
        <li><a href="#a-nameexample_2‰æã‰∫åa-Ë∞ÉÁî®-newdevelopment-ÂàõÂª∫loggerÂØπË±°"><!-- raw HTML omitted -->‰æã‰∫å<!-- raw HTML omitted --> Ë∞ÉÁî® NewDevelopment ÂàõÂª∫loggerÂØπË±°</a></li>
        <li><a href="#‰æã‰∏â-logger-‰∏é-sugaredlogger-Áõ∏‰∫íËΩ¨Êç¢">‰æã‰∏â <code>Logger</code> ‰∏é <code>SugaredLogger</code> Áõ∏‰∫íËΩ¨Êç¢</a></li>
        <li><a href="#a-nameexample_4‰æãÂõõa-Ëá™ÂÆö‰πâÊ†ºÂºè"><!-- raw HTML omitted -->‰æãÂõõ<!-- raw HTML omitted --> Ëá™ÂÆö‰πâÊ†ºÂºè</a></li>
      </ol>
    </li>
    <li><a href="#Ê∫êÁ†ÅÂàÜÊûê">Ê∫êÁ†ÅÂàÜÊûê</a>
      <ol>
        <li>
          <ol>
            <li><a href="#logger">Logger</a></li>
            <li><a href="#sugaredlogger">SugaredLogger</a></li>
            <li><a href="#zapcore">zapcore</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#doc">Doc</a></li>
    <li><a href="#qa">QA</a>
      <ol>
        <li><a href="#ËÆæËÆ°ÈóÆÈ¢ò">ËÆæËÆ°ÈóÆÈ¢ò</a>
          <ol>
            <li><a href="#‰∏∫‰ªÄ‰πàË¶ÅÂú®loggerÊÄßËÉΩ‰∏äËä±Ë¥πËøô‰πàÂ§öÁ≤æÂäõÂë¢">‰∏∫‰ªÄ‰πàË¶ÅÂú®LoggerÊÄßËÉΩ‰∏äËä±Ë¥πËøô‰πàÂ§öÁ≤æÂäõÂë¢Ôºü</a></li>
            <li><a href="#‰∏∫‰ªÄ‰πàÊ≤°ÊúâloggerÂíåsugaredloggerÊé•Âè£">‰∏∫‰ªÄ‰πàÊ≤°Êúâ<code>Logger</code>Âíå<code>SugaredLogger</code>Êé•Âè£Ôºü</a></li>
            <li><a href="#‰∏∫‰ªÄ‰πàÊàëÁöÑ‰∏Ä‰∫õÊó•Âøó‰ºö‰∏¢Â§±">‰∏∫‰ªÄ‰πàÊàëÁöÑ‰∏Ä‰∫õÊó•Âøó‰ºö‰∏¢Â§±Ôºü</a></li>
            <li><a href="#‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Á§∫‰æãÂ∫îÁî®Á®ãÂ∫èÊó•Âøó">‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Á§∫‰æãÂ∫îÁî®Á®ãÂ∫èÊó•ÂøóÔºü</a></li>
            <li><a href="#‰∏∫‰ªÄ‰πàÁªìÊûÑÂåñÁöÑÊó•Âøó-api-Èô§‰∫ÜÊé•ÂèóÂ≠óÊÆµ‰πãÂ§ñËøòÂèØ‰ª•Êé•Êî∂Ê∂àÊÅØ">‰∏∫‰ªÄ‰πàÁªìÊûÑÂåñÁöÑÊó•Âøó API Èô§‰∫ÜÊé•ÂèóÂ≠óÊÆµ‰πãÂ§ñËøòÂèØ‰ª•Êé•Êî∂Ê∂àÊÅØÔºü</a></li>
            <li><a href="#‰∏∫‰ªÄ‰πàË¶ÅÂåÖÊã¨ÂÖ®Â±Ä-loggers">‰∏∫‰ªÄ‰πàË¶ÅÂåÖÊã¨ÂÖ®Â±Ä loggersÔºü</a></li>
            <li><a href="#‰∏∫‰ªÄ‰πàÂåÖÊã¨‰∏ìÁî®ÁöÑpanicÂíåfatalÊó•ÂøóÁ∫ßÂà´">‰∏∫‰ªÄ‰πàÂåÖÊã¨‰∏ìÁî®ÁöÑPanicÂíåFatalÊó•ÂøóÁ∫ßÂà´Ôºü</a></li>
            <li><a href="#‰ªÄ‰πàÊòØdpanic">‰ªÄ‰πàÊòØ<code>DPanic</code>?</a></li>
          </ol>
        </li>
        <li><a href="#ÂÆâË£ÖÈóÆÈ¢ò">ÂÆâË£ÖÈóÆÈ¢ò</a>
          <ol>
            <li><a href="#ÈîôËØØexpects-import-gouberorgzapÊòØ‰ªÄ‰πàÊÑèÊÄù">ÈîôËØØ<code>expects import &quot;go.uber.org/zap&quot;</code>ÊòØ‰ªÄ‰πàÊÑèÊÄùÔºü</a></li>
          </ol>
        </li>
        <li><a href="#Áî®Ê≥ïÈóÆÈ¢ò">Áî®Ê≥ïÈóÆÈ¢ò</a>
          <ol>
            <li><a href="#zapÊòØÂê¶ÊîØÊåÅÊó•ÂøóÂàáÂâ≤">ZapÊòØÂê¶ÊîØÊåÅÊó•ÂøóÂàáÂâ≤Ôºü</a></li>
            <li><a href="#Êèí‰ª∂">Êèí‰ª∂</a></li>
          </ol>
        </li>
        <li><a href="#ÊÄßËÉΩÊØîËæÉ">ÊÄßËÉΩÊØîËæÉ</a></li>
        <li><a href="#Áõ∏‰ººÁöÑÂ∫ì">Áõ∏‰ººÁöÑÂ∫ì</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/%E4%BB%8E%E6%BA%90%E7%A0%81%E4%BA%86%E8%A7%A3-zap/">‰ªéÊ∫êÁ†Å‰∫ÜËß£ zap</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jan 22, 2021</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    11 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="zaphttpsgithubcomuber-gozap"><a class="link" href="https://github.com/uber-go/zap"  target="_blank" rel="noopener"
    >‚ö°ZAP</a></h2>
<h2 id="ÁÆÄ‰ªã">ÁÆÄ‰ªã</h2>
<h3 id="zap-ÊòØ‰ªÄ‰πà">zap ÊòØ‰ªÄ‰πà?</h3>
<p><a class="link" href="https://github.com/uber-go/zap"  target="_blank" rel="noopener"
    >‚ö°ZAP</a> ÊòØuber ÂºÄÊ∫êÁöÑÊèê‰æõÂø´ÈÄüÔºåÁªìÊûÑÂåñÔºåÈ´òÊÄßËÉΩÁöÑÊó•ÂøóËÆ∞ÂΩïÂåÖ„ÄÇ</p>
<h3 id="zap-È´òÊÄßËÉΩ‰ΩìÁé∞Âú®Âì™Èáå">zap È´òÊÄßËÉΩ‰ΩìÁé∞Âú®Âì™Èáå?</h3>
<p>Âú®‰ªãÁªçzapÂåÖÁöÑ‰ºòÂåñÈÉ®ÂàÜ‰πãÂâçÔºåËÆ©Êàë‰ª¨Áúã‰∏ãzapÊó•ÂøóÂ∫ìÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂõæ</p>
<p><img src="https://cdn-images-1.medium.com/max/644/1*4mn192sJdR0rU8RQ3aQo4w.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<p>Â§ßÂ§öÊï∞Êó•ÂøóÂ∫ìÊèê‰æõÁöÑÊñπÂºèÊòØÂü∫‰∫éÂèçÂ∞ÑÁöÑÂ∫èÂàóÂåñÂíåÂ≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñÔºåËøôÁßçÊñπÂºè‰ª£‰ª∑È´òÊòÇÔºåËÄå Zap ÈááÂèñ‰∏çÂêåÁöÑÊñπÊ≥ï„ÄÇ</p>
<ul>
<li>
<p>ÈÅøÂÖç interface{} ‰ΩøÁî®Âº∫Á±ªÂûãËÆæËÆ°</p>
</li>
<li>
<p>Â∞ÅË£ÖÂº∫Á±ªÂûãÔºåÊó†ÂèçÂ∞Ñ</p>
</li>
<li>
<p>‰ΩøÁî®Èõ∂ÂàÜÈÖçÂÜÖÂ≠òÁöÑ JSON ÁºñÁ†ÅÂô®ÔºåÂ∞ΩÂèØËÉΩÈÅøÂÖçÂ∫èÂàóÂåñÂºÄÈîÄÔºåÂÆÉÊØîÂÖ∂‰ªñÁªìÊûÑÂåñÊó•ÂøóÂåÖÂø´ 4 - 10 ÂÄç„ÄÇ</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">logger</span><span class="p">.</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;failed to fetch URL&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">zap</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="s">&#34;url&#34;</span><span class="p">,</span> <span class="s">&#34;https://baidu.com&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">zap</span><span class="p">.</span><span class="nf">Int</span><span class="p">(</span><span class="s">&#34;attempt&#34;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">zap</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="s">&#34;backoff&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>‰ΩøÁî® sync.Pool ‰ª•ÈÅøÂÖçËÆ∞ÂΩïÊ∂àÊÅØÊó∂ÁöÑÂÜÖÂ≠òÂàÜÈÖç</li>
</ul>
<p>ËØ¶ÊÉÖÂú®‰∏ãÊñá zapcore Ê®°Âùó‰ªãÁªç„ÄÇ</p>
<h2 id="example">Example</h2>
<h3 id="ÂÆâË£Ö">ÂÆâË£Ö</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">go get -u go.uber.org/zap
</span></span></code></pre></td></tr></table>
</div>
</div><p>Zap Êèê‰æõ‰∫Ü‰∏§ÁßçÁ±ªÂûãÁöÑ logger</p>
<ul>
<li>SugaredLogger</li>
<li>Logger</li>
</ul>
<p>Âú®<strong>ÊÄßËÉΩËâØÂ•Ω‰ΩÜ‰∏çÊòØÂÖ≥ÈîÆ</strong>ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî® <strong>SugaredLogger</strong>ÔºåÂÆÉÊØîÂÖ∂‰ªñÁªìÊûÑÂåñÁöÑÊó•ÂøóÂåÖÂø´ 4-10 ÂÄçÔºåÂπ∂‰∏îÊîØÊåÅÁªìÊûÑÂåñÂíå <code>printf</code> È£éÊ†ºÁöÑAPIs„ÄÇ</p>
<h3 id="a-idexample_1‰æã‰∏Ä-aË∞ÉÁî®-newproduction-ÂàõÂª∫loggerÂØπË±°"><!-- raw HTML omitted -->‰æã‰∏Ä <!-- raw HTML omitted -->Ë∞ÉÁî® NewProduction ÂàõÂª∫loggerÂØπË±°</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">TestSugar</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logger</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">zap</span><span class="p">.</span><span class="nf">NewProduction</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÈªòËÆ§ logger ‰∏çÁºìÂÜ≤„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// ‰ΩÜÁî±‰∫éÂ∫ïÂ±Ç api ÂÖÅËÆ∏ÁºìÂÜ≤ÔºåÊâÄ‰ª•Âú®ËøõÁ®ãÈÄÄÂá∫‰πãÂâçË∞ÉÁî® Sync ÊòØ‰∏Ä‰∏™Â•Ω‰π†ÊÉØ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">defer</span> <span class="nx">logger</span><span class="p">.</span><span class="nf">Sync</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sugar</span> <span class="o">:=</span> <span class="nx">logger</span><span class="p">.</span><span class="nf">Sugar</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sugar</span><span class="p">.</span><span class="nf">Infof</span><span class="p">(</span><span class="s">&#34;Failed to fetch URL: %s&#34;</span><span class="p">,</span> <span class="s">&#34;https://baidu.com&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂØπ<strong>ÊÄßËÉΩÂíåÁ±ªÂûãÂÆâÂÖ®Ë¶ÅÊ±Ç‰∏•Ê†º</strong>ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•‰ΩøÁî® <strong>Logger</strong> ÔºåÂÆÉÁîöËá≥ÊØîÂâçËÄÖ<strong>SugaredLogger</strong>Êõ¥Âø´ÔºåÂÜÖÂ≠òÂàÜÈÖçÊ¨°Êï∞‰πüÊõ¥Â∞ëÔºå‰ΩÜÂÆÉ‰ªÖÊîØÊåÅÂº∫Á±ªÂûãÁöÑÁªìÊûÑÂåñÊó•ÂøóËÆ∞ÂΩï„ÄÇ</p>
<h3 id="a-nameexample_2‰æã‰∫åa-Ë∞ÉÁî®-newdevelopment-ÂàõÂª∫loggerÂØπË±°"><!-- raw HTML omitted -->‰æã‰∫å<!-- raw HTML omitted --> Ë∞ÉÁî® NewDevelopment ÂàõÂª∫loggerÂØπË±°</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">TestLogger</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logger</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">zap</span><span class="p">.</span><span class="nf">NewDevelopment</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">defer</span> <span class="nx">logger</span><span class="p">.</span><span class="nf">Sync</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logger</span><span class="p">.</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;failed to fetch URL&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// Âº∫Á±ªÂûãÂ≠óÊÆµ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">zap</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="s">&#34;url&#34;</span><span class="p">,</span> <span class="s">&#34;https://baidu.com&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">zap</span><span class="p">.</span><span class="nf">Int</span><span class="p">(</span><span class="s">&#34;attempt&#34;</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">zap</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="s">&#34;backoff&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰∏çÈúÄË¶Å‰∏∫Êï¥‰∏™Â∫îÁî®Á®ãÂ∫èÂÜ≥ÂÆöÈÄâÊã©‰ΩøÁî® <code>Logger</code> ËøòÊòØ <code>SugaredLogger</code> Ôºå‰∏§ËÄÖ‰πãÈó¥ÈÉΩÂèØ‰ª•ËΩªÊùæËΩ¨Êç¢„ÄÇ</p>
<h3 id="‰æã‰∏â-logger-‰∏é-sugaredlogger-Áõ∏‰∫íËΩ¨Êç¢">‰æã‰∏â <code>Logger</code> ‰∏é <code>SugaredLogger</code> Áõ∏‰∫íËΩ¨Êç¢</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// ÂàõÂª∫ logger
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">logger</span> <span class="o">:=</span> <span class="nx">zap</span><span class="p">.</span><span class="nf">NewExample</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">defer</span> <span class="nx">logger</span><span class="p">.</span><span class="nf">Sync</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ËΩ¨Êç¢ SugaredLogger
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">sugar</span> <span class="o">:=</span> <span class="nx">logger</span><span class="p">.</span><span class="nf">Sugar</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ËΩ¨Êç¢ logger
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">plain</span> <span class="o">:=</span> <span class="nx">sugar</span><span class="p">.</span><span class="nf">Desugar</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="a-nameexample_4‰æãÂõõa-Ëá™ÂÆö‰πâÊ†ºÂºè"><!-- raw HTML omitted -->‰æãÂõõ<!-- raw HTML omitted --> Ëá™ÂÆö‰πâÊ†ºÂºè</h3>
<p>Ëá™ÂÆö‰πâ‰∏Ä‰∏™Êó•ÂøóÊ∂àÊÅØÊ†ºÂºèÔºåÂ∏¶ÁùÄÈóÆÈ¢òÁúã‰∏ãÂàó‰ª£Á†Å„ÄÇ</p>
<ol>
<li>debug Á∫ßÂà´ÁöÑÊó•ÂøóÊâìÂç∞Âà∞ÊéßÂà∂Âè∞‰∫ÜÂêó?</li>
<li>ÊúÄÂêéÁöÑ error ‰ºöÊâìÂç∞Âà∞ÊéßÂà∂Âè∞Âêó ?</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">&#34;go.uber.org/zap&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;go.uber.org/zap/zapcore&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewCustomEncoderConfig</span><span class="p">()</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">EncoderConfig</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">EncoderConfig</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">TimeKey</span><span class="p">:</span>        <span class="s">&#34;ts&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">LevelKey</span><span class="p">:</span>       <span class="s">&#34;level&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">NameKey</span><span class="p">:</span>        <span class="s">&#34;logger&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">CallerKey</span><span class="p">:</span>      <span class="s">&#34;caller&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">FunctionKey</span><span class="p">:</span>    <span class="nx">zapcore</span><span class="p">.</span><span class="nx">OmitKey</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">MessageKey</span><span class="p">:</span>     <span class="s">&#34;msg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">StacktraceKey</span><span class="p">:</span>  <span class="s">&#34;stacktrace&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">LineEnding</span><span class="p">:</span>     <span class="nx">zapcore</span><span class="p">.</span><span class="nx">DefaultLineEnding</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">EncodeLevel</span><span class="p">:</span>    <span class="nx">zapcore</span><span class="p">.</span><span class="nx">CapitalColorLevelEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">EncodeTime</span><span class="p">:</span>     <span class="nx">zapcore</span><span class="p">.</span><span class="nf">TimeEncoderOfLayout</span><span class="p">(</span><span class="s">&#34;2006-01-02 15:04:05&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">EncodeDuration</span><span class="p">:</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">SecondsDurationEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">EncodeCaller</span><span class="p">:</span>   <span class="nx">zapcore</span><span class="p">.</span><span class="nx">ShortCallerEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">atom</span> <span class="o">:=</span> <span class="nx">zap</span><span class="p">.</span><span class="nf">NewAtomicLevelAt</span><span class="p">(</span><span class="nx">zap</span><span class="p">.</span><span class="nx">DebugLevel</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">core</span> <span class="o">:=</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nf">NewCore</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">zapcore</span><span class="p">.</span><span class="nf">NewConsoleEncoder</span><span class="p">(</span><span class="nf">NewCustomEncoderConfig</span><span class="p">()),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">zapcore</span><span class="p">.</span><span class="nf">NewMultiWriteSyncer</span><span class="p">(</span><span class="nx">zapcore</span><span class="p">.</span><span class="nf">AddSync</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stdout</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">atom</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">logger</span> <span class="o">:=</span> <span class="nx">zap</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="nx">core</span><span class="p">,</span> <span class="nx">zap</span><span class="p">.</span><span class="nf">AddCaller</span><span class="p">(),</span> <span class="nx">zap</span><span class="p">.</span><span class="nf">Development</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="k">defer</span> <span class="nx">logger</span><span class="p">.</span><span class="nf">Sync</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ÈÖçÁΩÆ zap ÂåÖÁöÑÂÖ®Â±ÄÂèòÈáè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">zap</span><span class="p">.</span><span class="nf">ReplaceGlobals</span><span class="p">(</span><span class="nx">logger</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ËøêË°åÊó∂ÂÆâÂÖ®Âú∞Êõ¥Êîπ logger Êó•ËÆ∞Á∫ßÂà´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">atom</span><span class="p">.</span><span class="nf">SetLevel</span><span class="p">(</span><span class="nx">zap</span><span class="p">.</span><span class="nx">InfoLevel</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sugar</span> <span class="o">:=</span> <span class="nx">logger</span><span class="p">.</span><span class="nf">Sugar</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÈóÆÈ¢ò 1: debug Á∫ßÂà´ÁöÑÊó•ÂøóÊâìÂç∞Âà∞ÊéßÂà∂Âè∞‰∫ÜÂêó?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">sugar</span><span class="p">.</span><span class="nf">Debug</span><span class="p">(</span><span class="s">&#34;debug&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sugar</span><span class="p">.</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;info&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sugar</span><span class="p">.</span><span class="nf">Warn</span><span class="p">(</span><span class="s">&#34;warn&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sugar</span><span class="p">.</span><span class="nf">DPanic</span><span class="p">(</span><span class="s">&#34;dPanic&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÈóÆÈ¢ò 2: ÊúÄÂêéÁöÑ error ‰ºöÊâìÂç∞Âà∞ÊéßÂà∂Âè∞Âêó?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">sugar</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="s">&#34;error&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÁªìÊûúËßÅ‰∏ãÂõæ</p>
<p><img src="http://img.golang.space/shot-1621945016655.png"
	
	
	
	loading="lazy"
	
		alt="image-20210525201656456"
	
	
></p>
<p><strong>ÈóÆÈ¢ò 1:</strong></p>
<p>Ê≤°ÊúâÊâìÂç∞„ÄÇAtomicLevel ÊòØÂéüÂ≠êÊÄßÂèØÊõ¥ÊîπÁöÑÂä®ÊÄÅÊó•ÂøóÁ∫ßÂà´ÔºåÈÄöËøáË∞ÉÁî® <code>atom.SetLevel</code> Êõ¥ÊîπÊó•ÂøóÁ∫ßÂà´‰∏∫ <code>infoLevel</code> „ÄÇ</p>
<p><strong>ÈóÆÈ¢ò 2:</strong></p>
<p>Ê≤°ÊúâÊâìÂç∞„ÄÇ<code>zap.Development()</code> ÂêØÁî®‰∫ÜÂºÄÂèëÊ®°ÂºèÔºåÂú®ÂºÄÂèëÊ®°Âºè‰∏ã <code>DPanic</code> ÂáΩÊï∞‰ºöÂºïÂèë panicÔºåÊâÄ‰ª•ÊúÄÂêéÁöÑ <code>error</code> ‰∏ç‰ºöÊâìÂç∞Âà∞ÊéßÂà∂Âè∞„ÄÇ</p>
<h2 id="Ê∫êÁ†ÅÂàÜÊûê">Ê∫êÁ†ÅÂàÜÊûê</h2>
<p>Ê≠§Ê¨°Ê∫êÁ†ÅÂàÜÊûêÂü∫‰∫é <code>Zap 1.16</code></p>
<p><img src="http://img.golang.space/shot-1620404974607.png"
	
	
	
	loading="lazy"
	
		alt="zapÊ¶ÇËßà"
	
	
></p>
<p>‰∏äÂõæ‰ªÖË°®Á§∫ zap ÂèØË∞ÉÁî®‰∏§Áßç loggerÔºåÊ≤°ÊúâË°®Ëææ <code>Logger</code> ‰∏é <code>SugaredLogger</code> ÁöÑÂÖ≥Á≥ªÔºå<strong>ÁªßÁª≠ÂæÄ‰∏ãÁúã</strong>Ôºå‰Ω†‰ºöÊõ¥ÁêÜËß£„ÄÇ</p>
<h4 id="logger">Logger</h4>
<p>logger Êèê‰æõÂø´ÈÄüÔºåÂàÜÁ∫ßÔºåÁªìÊûÑÂåñÁöÑÊó•ÂøóËÆ∞ÂΩï„ÄÇÊâÄÊúâÁöÑÊñπÊ≥ïÈÉΩÊòØÂÆâÂÖ®ÁöÑÔºåÂÜÖÂ≠òÂàÜÈÖçÂæàÈáçË¶ÅÔºåÂõ†Ê≠§ÂÆÉÁöÑ API ÊúâÊÑèÂÅèÂêë‰∫éÊÄßËÉΩÂíåÁ±ªÂûãÂÆâÂÖ®„ÄÇ</p>
<p><code>zap@v1.16.0 - logger.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Logger</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ÂÆûÁé∞ÁºñÁ†ÅÂíåËæìÂá∫ÁöÑÊé•Âè£
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">core</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">Core</span>  
</span></span><span class="line"><span class="cl">  <span class="c1">// ËÆ∞ÂΩïÂô®ÂºÄÂèëÊ®°ÂºèÔºåDPanic Á≠âÁ∫ßÂ∞ÜËÆ∞ÂΩï panic
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">development</span> <span class="kt">bool</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ÂºÄÂêØËÆ∞ÂΩïË∞ÉÁî®ËÄÖÁöÑË°åÂè∑ÂíåÂáΩÊï∞Âêç
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">addCaller</span>   <span class="kt">bool</span>		
</span></span><span class="line"><span class="cl">  <span class="c1">// Ëá¥ÂëΩÊó•ÂøóÈááÂèñÁöÑÊìç‰ΩúÔºåÈªòËÆ§ÂÜôÂÖ•Êó•ÂøóÂêé os.Exit()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">onFatal</span>     <span class="nx">zapcore</span><span class="p">.</span><span class="nx">CheckWriteAction</span> 
</span></span><span class="line"><span class="cl">	<span class="nx">name</span>        <span class="kt">string</span>	
</span></span><span class="line"><span class="cl">  <span class="c1">// ËÆæÁΩÆËÆ∞ÂΩïÂô®ÁîüÊàêÁöÑÈîôËØØÁõÆÁöÑÂú∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">errorOutput</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">WriteSyncer</span>  
</span></span><span class="line"><span class="cl">  <span class="c1">// ËÆ∞ÂΩï &gt;= ËØ•Êó•ÂøóÁ≠âÁ∫ßÁöÑÂ†ÜÊ†àËøΩË∏™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">addStack</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">LevelEnabler</span> 
</span></span><span class="line"><span class="cl">  <span class="c1">// ÈÅøÂÖçËÆ∞ÂΩïÂô®ËÆ§‰∏∫Â∞ÅË£ÖÂáΩÊï∞‰∏∫Ë∞ÉÁî®Êñπ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">callerSkip</span> <span class="kt">int</span>	
</span></span><span class="line"><span class="cl">  <span class="c1">// ÈªòËÆ§‰∏∫Á≥ªÁªüÊó∂Èó¥ 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">clock</span> <span class="nx">Clock</span>		
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âú® <strong>Example</strong> ‰∏≠ÂàÜÂà´‰ΩøÁî®‰∫Ü <code>NewProduction</code> Âíå <code>NewDevelopment</code> ÔºåÊé•‰∏ãÊù•‰ª•Ëøô‰∏§‰∏™ÂáΩÊï∞ÂºÄÂßãÂàÜÊûê„ÄÇ‰∏ãÂõæË°®Á§∫ A ÂáΩÊï∞Ë∞ÉÁî®‰∫Ü B ÂáΩÊï∞ÔºåÂÖ∂‰∏≠ÁÆ≠Â§¥Ë°®Á§∫<strong>ÂáΩÊï∞Ë∞ÉÁî®ÂÖ≥Á≥ª</strong>„ÄÇÂõæ‰∏≠ÂáΩÊï∞ÈÉΩ‰ºöÂàÜÊûêÂà∞„ÄÇ</p>
<p><img src="http://img.golang.space/shot-1620608635804.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><strong>NewProduction</strong></p>
<p>‰ªé‰∏ãÈù¢‰ª£Á†Å‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÊ≠§ÂáΩÊï∞ÊòØÂØπ <code>NewProductionConfig().Build(...)</code> Â∞ÅË£ÖÁöÑÂø´Êç∑ÊñπÂºè„ÄÇ</p>
<p><code>zap@v1.16.0 - logger.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewProduction</span><span class="p">(</span><span class="nx">options</span> <span class="o">...</span><span class="nx">Option</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">Logger</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nf">NewProductionConfig</span><span class="p">().</span><span class="nf">Build</span><span class="p">(</span><span class="nx">options</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>NewProductionConfig</strong></p>
<p>Âú® InfoLevel ÂèäÊõ¥È´òÁ∫ßÂà´‰∏äÂêØÁî®‰∫ÜÊó•ÂøóËÆ∞ÂΩï„ÄÇÂÆÉ‰ΩøÁî® JSON ÁºñÁ†ÅÂô®ÔºåÂÜôÂÖ• stderrÔºåÂêØÁî®ÈááÊ†∑„ÄÇ</p>
<p><code>zap@v1.16.0 - config.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewProductionConfig</span><span class="p">()</span> <span class="nx">Config</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// info Êó•ÂøóÁ∫ßÂà´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">Level</span><span class="p">:</span>       <span class="nf">NewAtomicLevelAt</span><span class="p">(</span><span class="nx">InfoLevel</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÈùûÂºÄÂèëÊ®°Âºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">Development</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÈááÊ†∑ËÆæÁΩÆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">Sampling</span><span class="p">:</span> <span class="o">&amp;</span><span class="nx">SamplingConfig</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Initial</span><span class="p">:</span>    <span class="mi">100</span><span class="p">,</span> <span class="c1">// Áõ∏ÂêåÊó•ÂøóÁ∫ßÂà´‰∏ãÁõ∏ÂêåÂÜÖÂÆπÊØèÁßíÊó•ÂøóËæìÂá∫Êï∞Èáè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">Thereafter</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="c1">// Ë∂ÖËøáËØ•Êï∞ÈáèÔºåÊâç‰ºöÂÜçÊ¨°ËæìÂá∫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// JSON ÁºñÁ†ÅÂô®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">Encoding</span><span class="p">:</span>         <span class="s">&#34;json&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂêéÈù¢‰ªãÁªç
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">EncoderConfig</span><span class="p">:</span>    <span class="nf">NewProductionEncoderConfig</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ËæìÂá∫Âà∞ stderr
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">OutputPaths</span><span class="p">:</span>      <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;stderr&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="nx">ErrorOutputPaths</span><span class="p">:</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;stderr&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Config</strong> ÁªìÊûÑ‰Ωì</p>
<p>ÈÄöËøá Config ÂèØ‰ª•ËÆæÁΩÆÈÄöÁî®ÁöÑÈÖçÁΩÆÈ°π„ÄÇ</p>
<p><code>zap@v1.16.0 - config.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Config</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Êó•ÂøóÁ∫ßÂà´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Level</span> <span class="nx">AtomicLevel</span> <span class="s">`json:&#34;level&#34; yaml:&#34;level&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÂºÄÂèëÊ®°Âºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Development</span> <span class="kt">bool</span> <span class="s">`json:&#34;development&#34; yaml:&#34;development&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÂÅúÊ≠¢‰ΩøÁî®Ë∞ÉÁî®ÊñπÁöÑÂáΩÊï∞ÂíåË°åÂè∑
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">DisableCaller</span> <span class="kt">bool</span> <span class="s">`json:&#34;disableCaller&#34; yaml:&#34;disableCaller&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÂÆåÂÖ®ÂÅúÊ≠¢‰ΩøÁî®Â†ÜÊ†àË∑üË∏™ÔºåÈªòËÆ§‰∏∫  `&gt;=WarnLevel` ‰ΩøÁî®Â†ÜÊ†àË∑üË∏™
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">DisableStacktrace</span> <span class="kt">bool</span> <span class="s">`json:&#34;disableStacktrace&#34; yaml:&#34;disableStacktrace&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÈááÊ†∑ËÆæÁΩÆÁ≠ñÁï•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Sampling</span> <span class="o">*</span><span class="nx">SamplingConfig</span> <span class="s">`json:&#34;sampling&#34; yaml:&#34;sampling&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ËÆ∞ÂΩïÂô®ÁöÑÁºñÁ†ÅÔºåÊúâÊïàÂÄº‰∏∫ &#39;json&#39; Âíå &#39;console&#39; ‰ª•ÂèäÈÄöËøá `RegisterEncoder` Ê≥®ÂÜåÁöÑÊúâÊïàÁºñÁ†Å
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">Encoding</span> <span class="kt">string</span> <span class="s">`json:&#34;encoding&#34; yaml:&#34;encoding&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÁºñÁ†ÅÂô®ÈÄâÈ°π
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">EncoderConfig</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">EncoderConfig</span> <span class="s">`json:&#34;encoderConfig&#34; yaml:&#34;encoderConfig&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Êó•ÂøóÁöÑËæìÂá∫Ë∑ØÂæÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">OutputPaths</span> <span class="p">[]</span><span class="kt">string</span> <span class="s">`json:&#34;outputPaths&#34; yaml:&#34;outputPaths&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// zap ÂÜÖÈÉ®ÈîôËØØÁöÑËæìÂá∫Ë∑ØÂæÑ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">ErrorOutputPaths</span> <span class="p">[]</span><span class="kt">string</span> <span class="s">`json:&#34;errorOutputPaths&#34; yaml:&#34;errorOutputPaths&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Ê∑ªÂä†Âà∞Ê†πËÆ∞ÂΩïÂô®ÁöÑÂ≠óÊÆµÁöÑÈõÜÂêà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">InitialFields</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span> <span class="s">`json:&#34;initialFields&#34; yaml:&#34;initialFields&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>NewDevelopment</strong></p>
<p>‰ªé‰∏ãÈù¢‰ª£Á†Å‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÊ≠§ÂáΩÊï∞ÊòØÂØπ <code>NewDevelopmentConfig().Build(...)</code> Â∞ÅË£ÖÁöÑÂø´Êç∑ÊñπÂºè</p>
<p><code>zap@v1.16.0 - logger.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewDevelopment</span><span class="p">(</span><span class="nx">options</span> <span class="o">...</span><span class="nx">Option</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">Logger</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nf">NewDevelopmentConfig</span><span class="p">().</span><span class="nf">Build</span><span class="p">(</span><span class="nx">options</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>NewDevelopmentConfig</strong></p>
<p>Ê≠§ÂáΩÊï∞Âú® DebugLevel ÂèäÊõ¥È´òÁâàÊú¨‰∏äÂêØÁî®Êó•ÂøóËÆ∞ÂΩïÔºåÂÆÉ‰ΩøÁî® console ÁºñÁ†ÅÂô®ÔºåÂÜôÂÖ• stderrÔºåÁ¶ÅÁî®ÈááÊ†∑„ÄÇ</p>
<p><code>zap@v1.16.0 - config.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewDevelopmentConfig</span><span class="p">()</span> <span class="nx">Config</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// debug Á≠âÁ∫ß
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">Level</span><span class="p">:</span>            <span class="nf">NewAtomicLevelAt</span><span class="p">(</span><span class="nx">DebugLevel</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂºÄÂèëÊ®°Âºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">Development</span><span class="p">:</span>      <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// console ÁºñÁ†ÅÂô®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">Encoding</span><span class="p">:</span>         <span class="s">&#34;console&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">EncoderConfig</span><span class="p">:</span>    <span class="nf">NewDevelopmentEncoderConfig</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ËæìÂá∫Âà∞ stderr
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">OutputPaths</span><span class="p">:</span>      <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;stderr&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="nx">ErrorOutputPaths</span><span class="p">:</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;stderr&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>NewProductionEncoderConfig</code> Âíå <code>NewDevelopmentEncoderConfig</code> ÈÉΩÊòØËøîÂõûÁºñÁ†ÅÂô®ÈÖçÁΩÆ„ÄÇ</p>
<p><code>zap@v1.16.0 - config.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">EncoderConfig</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ËÆæÁΩÆ ÁºñÁ†Å‰∏∫ JSON Êó∂ÁöÑ KEY
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// Â¶ÇÊûú‰∏∫Á©∫ÔºåÂàôÁúÅÁï•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">MessageKey</span>    <span class="kt">string</span> <span class="s">`json:&#34;messageKey&#34; yaml:&#34;messageKey&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">LevelKey</span>      <span class="kt">string</span> <span class="s">`json:&#34;levelKey&#34; yaml:&#34;levelKey&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">TimeKey</span>       <span class="kt">string</span> <span class="s">`json:&#34;timeKey&#34; yaml:&#34;timeKey&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">NameKey</span>       <span class="kt">string</span> <span class="s">`json:&#34;nameKey&#34; yaml:&#34;nameKey&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CallerKey</span>     <span class="kt">string</span> <span class="s">`json:&#34;callerKey&#34; yaml:&#34;callerKey&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FunctionKey</span>   <span class="kt">string</span> <span class="s">`json:&#34;functionKey&#34; yaml:&#34;functionKey&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">StacktraceKey</span> <span class="kt">string</span> <span class="s">`json:&#34;stacktraceKey&#34; yaml:&#34;stacktraceKey&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ÈÖçÁΩÆË°åÂàÜÈöîÁ¨¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">LineEnding</span>    <span class="kt">string</span> <span class="s">`json:&#34;lineEnding&#34; yaml:&#34;lineEnding&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÈÖçÁΩÆÂ∏∏ËßÅÂ§çÊùÇÁ±ªÂûãÁöÑÂü∫Êú¨Ë°®Á§∫ÂΩ¢Âºè„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">EncodeLevel</span>    <span class="nx">LevelEncoder</span>    <span class="s">`json:&#34;levelEncoder&#34; yaml:&#34;levelEncoder&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">EncodeTime</span>     <span class="nx">TimeEncoder</span>     <span class="s">`json:&#34;timeEncoder&#34; yaml:&#34;timeEncoder&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">EncodeDuration</span> <span class="nx">DurationEncoder</span> <span class="s">`json:&#34;durationEncoder&#34; yaml:&#34;durationEncoder&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="nx">EncodeCaller</span>   <span class="nx">CallerEncoder</span>   <span class="s">`json:&#34;callerEncoder&#34; yaml:&#34;callerEncoder&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Êó•ÂøóÂêçÁß∞ÔºåÊ≠§ÂèÇÊï∞ÂèØÈÄâ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">EncodeName</span> <span class="nx">NameEncoder</span> <span class="s">`json:&#34;nameEncoder&#34; yaml:&#34;nameEncoder&#34;`</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÈÖçÁΩÆ console ÁºñÁ†ÅÂô®‰ΩøÁî®ÁöÑÂ≠óÊÆµÂàÜÈöîÁ¨¶ÔºåÈªòËÆ§ tab
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">ConsoleSeparator</span> <span class="kt">string</span> <span class="s">`json:&#34;consoleSeparator&#34; yaml:&#34;consoleSeparator&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>NewProductionEncoderConfig</strong></p>
<p><code>zap@v1.16.0 - config.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewProductionEncoderConfig</span><span class="p">()</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">EncoderConfig</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">EncoderConfig</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">TimeKey</span><span class="p">:</span>        <span class="s">&#34;ts&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">LevelKey</span><span class="p">:</span>       <span class="s">&#34;level&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">NameKey</span><span class="p">:</span>        <span class="s">&#34;logger&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">CallerKey</span><span class="p">:</span>      <span class="s">&#34;caller&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">FunctionKey</span><span class="p">:</span>    <span class="nx">zapcore</span><span class="p">.</span><span class="nx">OmitKey</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">MessageKey</span><span class="p">:</span>     <span class="s">&#34;msg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">StacktraceKey</span><span class="p">:</span>  <span class="s">&#34;stacktrace&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÈªòËÆ§Êç¢Ë°åÁ¨¶ \n
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">LineEnding</span><span class="p">:</span>     <span class="nx">zapcore</span><span class="p">.</span><span class="nx">DefaultLineEnding</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Êó•ÂøóÁ≠âÁ∫ßÂ∫èÂàó‰∏∫Â∞èÂÜôÂ≠óÁ¨¶‰∏≤ÔºåÂ¶Ç:InfoLevelË¢´Â∫èÂàóÂåñ‰∏∫ &#34;info&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">EncodeLevel</span><span class="p">:</span>    <span class="nx">zapcore</span><span class="p">.</span><span class="nx">LowercaseLevelEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Êó∂Èó¥Â∫èÂàóÂåñÊàêÊµÆÁÇπÁßíÊï∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">EncodeTime</span><span class="p">:</span>     <span class="nx">zapcore</span><span class="p">.</span><span class="nx">EpochTimeEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Êó∂Èó¥Â∫èÂàóÂåñÔºåDuration‰∏∫ÁªèËøáÁöÑÊµÆÁÇπÁßíÊï∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">EncodeDuration</span><span class="p">:</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">SecondsDurationEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ‰ª• ÂåÖÂêç/Êñá‰ª∂Âêç:Ë°åÊï∞ Ê†ºÂºèÂ∫èÂàóÂåñ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">EncodeCaller</span><span class="p">:</span>   <span class="nx">zapcore</span><span class="p">.</span><span class="nx">ShortCallerEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËØ•ÈÖçÁΩÆ‰ºöËæìÂá∫Â¶Ç‰∏ãÁªìÊûúÔºåÊ≠§ÁªìÊûúÂá∫Â§ÑÂèÇËßÅ <strong>Example</strong> ‰∏≠ÁöÑ<a class="link" href="#example_1" >‰æã‰∏Ä</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">{</span><span class="s2">&#34;level&#34;</span>:<span class="s2">&#34;info&#34;</span>,<span class="s2">&#34;ts&#34;</span>:1620367988.461055,<span class="s2">&#34;caller&#34;</span>:<span class="s2">&#34;test/use_test.go:24&#34;</span>,<span class="s2">&#34;msg&#34;</span>:<span class="s2">&#34;Failed to fetch URL: https://baidu.com&#34;</span><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>NewDevelopmentEncoderConfig</strong></p>
<p><code>zap@v1.16.0 - config.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">NewDevelopmentEncoderConfig</span><span class="p">()</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">EncoderConfig</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">EncoderConfig</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// keys ÂÄºÂèØ‰ª•ÊòØ‰ªªÊÑèÈùûÁ©∫ÁöÑÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">TimeKey</span><span class="p">:</span>        <span class="s">&#34;T&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">LevelKey</span><span class="p">:</span>       <span class="s">&#34;L&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">NameKey</span><span class="p">:</span>        <span class="s">&#34;N&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">CallerKey</span><span class="p">:</span>      <span class="s">&#34;C&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">FunctionKey</span><span class="p">:</span>    <span class="nx">zapcore</span><span class="p">.</span><span class="nx">OmitKey</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">MessageKey</span><span class="p">:</span>     <span class="s">&#34;M&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">StacktraceKey</span><span class="p">:</span>  <span class="s">&#34;S&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">     <span class="c1">// ÈªòËÆ§Êç¢Ë°åÁ¨¶ \n
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">LineEnding</span><span class="p">:</span>     <span class="nx">zapcore</span><span class="p">.</span><span class="nx">DefaultLineEnding</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Êó•ÂøóÁ≠âÁ∫ßÂ∫èÂàó‰∏∫Â§ßÂÜôÂ≠óÁ¨¶‰∏≤ÔºåÂ¶Ç:InfoLevelË¢´Â∫èÂàóÂåñ‰∏∫ &#34;INFO&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">EncodeLevel</span><span class="p">:</span>    <span class="nx">zapcore</span><span class="p">.</span><span class="nx">CapitalLevelEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Êó∂Èó¥Ê†ºÂºèÂåñ‰∏∫  ISO8601 Ê†ºÂºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">EncodeTime</span><span class="p">:</span>     <span class="nx">zapcore</span><span class="p">.</span><span class="nx">ISO8601TimeEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">EncodeDuration</span><span class="p">:</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">StringDurationEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// // ‰ª• ÂåÖÂêç/Êñá‰ª∂Âêç:Ë°åÊï∞ Ê†ºÂºèÂ∫èÂàóÂåñ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">EncodeCaller</span><span class="p">:</span>   <span class="nx">zapcore</span><span class="p">.</span><span class="nx">ShortCallerEncoder</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËØ•ÈÖçÁΩÆ‰ºöËæìÂá∫Â¶Ç‰∏ãÁªìÊûúÔºåÊ≠§ÁªìÊûúÂá∫Â§ÑÂèÇËßÅ Example ‰∏≠ÁöÑ <!-- raw HTML omitted -->‰æã‰∫å<!-- raw HTML omitted --></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">2021-05-07T14:14:12.434+0800	INFO	test/use_test.go:31	failed to fetch URL	<span class="o">{</span><span class="s2">&#34;url&#34;</span>: <span class="s2">&#34;https://baidu.com&#34;</span>, <span class="s2">&#34;attempt&#34;</span>: 3, <span class="s2">&#34;backoff&#34;</span>: <span class="s2">&#34;1s&#34;</span><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>NewProductionConfig</code> Âíå <code>NewDevelopmentConfig</code> ËøîÂõû config Ë∞ÉÁî® <code>Build</code> ÂáΩÊï∞ËøîÂõû loggerÔºåÊé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãËøô‰∏™ÂáΩÊï∞„ÄÇ</p>
<p><code>zap@v1.16.0 - config.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">cfg</span> <span class="nx">Config</span><span class="p">)</span> <span class="nf">Build</span><span class="p">(</span><span class="nx">opts</span> <span class="o">...</span><span class="nx">Option</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">Logger</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">enc</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">cfg</span><span class="p">.</span><span class="nf">buildEncoder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">sink</span><span class="p">,</span> <span class="nx">errSink</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">cfg</span><span class="p">.</span><span class="nf">openSinks</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">cfg</span><span class="p">.</span><span class="nx">Level</span> <span class="o">==</span> <span class="p">(</span><span class="nx">AtomicLevel</span><span class="p">{})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;missing Level&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="nx">log</span> <span class="o">:=</span> <span class="nf">New</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">zapcore</span><span class="p">.</span><span class="nf">NewCore</span><span class="p">(</span><span class="nx">enc</span><span class="p">,</span> <span class="nx">sink</span><span class="p">,</span> <span class="nx">cfg</span><span class="p">.</span><span class="nx">Level</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">cfg</span><span class="p">.</span><span class="nf">buildOptions</span><span class="p">(</span><span class="nx">errSink</span><span class="p">)</span><span class="o">...</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">opts</span><span class="p">)</span> <span class="p">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">log</span> <span class="p">=</span> <span class="nx">log</span><span class="p">.</span><span class="nf">WithOptions</span><span class="p">(</span><span class="nx">opts</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">log</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ªé‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠ÔºåÈÄöËøáËß£Êûê config ÁöÑÂèÇÊï∞ÔºåË∞ÉÁî® <code>New</code> ÊñπÊ≥ïÊù•ÂàõÂª∫ Logger„ÄÇÂú® <strong>Example</strong> ‰∏≠<!-- raw HTML omitted -->‰æãÂõõ<!-- raw HTML omitted -->ÔºåÂ∞±ÊòØË∞ÉÁî® <code>New</code> ÊñπÊ≥ïÊù•Ëá™ÂÆö‰πâ Logger„ÄÇ</p>
<h4 id="sugaredlogger">SugaredLogger</h4>
<p><code>Logger</code> ‰Ωú‰∏∫ <code>SugaredLogger</code> ÁöÑÂ±ûÊÄßÔºåËøô‰∏™Â∞ÅË£Ö‰ºòÁÇπÂú®‰∫é‰∏çÊòØÂæàÂú®‰πéÊÄßËÉΩÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•Âø´ÈÄüË∞ÉÁî®<code>Logger</code>„ÄÇÊâÄ‰ª•ÂêçÂ≠ó‰∏∫Âä†‰∫ÜÁ≥ñÁöÑ Logger„ÄÇ</p>
<p><code>zap@v1.16.0 - logger.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">SugaredLogger</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">base</span> <span class="o">*</span><span class="nx">Logger</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">zap</span><span class="p">.</span><span class="nf">ReplaceGlobals</span><span class="p">(</span><span class="nx">logger</span><span class="p">)</span>			<span class="c1">// ÈáçÊñ∞ÈÖçÁΩÆÂÖ®Â±ÄÂèòÈáè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">zap</span><span class="p">.</span><span class="nf">S</span><span class="p">().</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;SugaredLogger&#34;</span><span class="p">)</span>   <span class="c1">// S ËøîÂõûÂÖ®Â±Ä SugaredLogger
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">zap</span><span class="p">.</span><span class="nf">L</span><span class="p">().</span><span class="nf">Info</span><span class="p">(</span><span class="s">&#34;logger&#34;</span><span class="p">)</span>				  <span class="c1">// L ËøîÂõûÂÖ®Â±Ä logger
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>‰∏é<code>Logger</code>‰∏çÂêåÔºå<code>SugaredLogger</code>‰∏çÂº∫Âà∂Êó•ÂøóÁªìÊûÑÂåñ„ÄÇÊâÄ‰ª•ÂØπ‰∫éÊØè‰∏™Êó•ÂøóÁ∫ßÂà´ÔºåÈÉΩÊèê‰æõ‰∫Ü‰∏âÁßçÊñπÊ≥ï„ÄÇ</p>
<p><img src="http://img.golang.space/shot-1621394160652.png"
	
	
	
	loading="lazy"
	
		alt="level"
	
	
></p>
<p><code>zap@v1.16.0 - sugar.go</code></p>
<p>‰ª• info Á∫ßÂà´‰∏∫‰æãÔºåÁõ∏ÂÖ≥ÁöÑ‰∏âÁßçÊñπÊ≥ï„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// Info ‰ΩøÁî® fmt.Sprint ÊûÑÈÄ†ÂíåËÆ∞ÂΩïÊ∂àÊÅØ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">SugaredLogger</span><span class="p">)</span> <span class="nf">Info</span><span class="p">(</span><span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">InfoLevel</span><span class="p">,</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Infof ‰ΩøÁî® fmt.Sprintf ËÆ∞ÂΩïÊ®°ÊùøÊ∂àÊÅØ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">SugaredLogger</span><span class="p">)</span> <span class="nf">Infof</span><span class="p">(</span><span class="nx">template</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">InfoLevel</span><span class="p">,</span> <span class="nx">template</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Infow ËÆ∞ÂΩïÂ∏¶ÊúâÂÖ∂‰ªñ‰∏ä‰∏ãÊñáÁöÑÊ∂àÊÅØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">SugaredLogger</span><span class="p">)</span> <span class="nf">Infow</span><span class="p">(</span><span class="nx">msg</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">keysAndValues</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">s</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">InfoLevel</span><span class="p">,</span> <span class="nx">msg</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">keysAndValues</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âú® <code>sugar.Infof(&quot;...&quot;)</code> Êâì‰∏äÊñ≠ÁÇπÔºå‰ªéËøôÂºÄÂßãËøΩË∏™Ê∫êÁ†Å„ÄÇ</p>
<p><img src="http://img.golang.space/shot-1621393972465.png"
	
	
	
	loading="lazy"
	
		alt="image-20210519111252185"
	
	
></p>
<p>Âú®Ë∞ÉËØï‰ª£Á†Å‰πãÂâçÔºåÂÖàÁªôÂ§ßÂÆ∂Áúã‰∏Ä‰∏ã<code>SugaredLogger</code> ÁöÑ  <code>Infof</code> ÂáΩÊï∞ÁöÑË∞ÉÁî®ÁöÑÂ§ßËá¥Â∑•‰ΩúÊµÅÔºåÂÖ∂‰∏≠‰∏çÊ∂âÂèäÈááÊ†∑Á≠â„ÄÇ</p>
<p><img src="http://img.golang.space/shot-1622542093397.png"
	
	
	
	loading="lazy"
	
		alt="infofÂ∑•‰ΩúÊµÅÁ®ã"
	
	
></p>
<p><code>Info</code> , <code>Infof</code>, <code>Infow</code> ‰∏â‰∏™ÂáΩÊï∞ÈÉΩË∞ÉÁî®‰∫Ü <code>log</code> ÂáΩÊï∞Ôºå<code>log</code> ÂáΩÊï∞‰ª£Á†ÅÂ¶Ç‰∏ã</p>
<p><code>zap@v1.16.0 - sugar.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">SugaredLogger</span><span class="p">)</span> <span class="nf">log</span><span class="p">(</span><span class="nx">lvl</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">Level</span><span class="p">,</span> <span class="nx">template</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">fmtArgs</span> <span class="p">[]</span><span class="kd">interface</span><span class="p">{},</span> <span class="nx">context</span> <span class="p">[]</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Âà§Êñ≠ÊòØÂê¶ÂêØÁî®ÁöÑÊó•ÂøóÁ∫ßÂà´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">lvl</span> <span class="p">&lt;</span> <span class="nx">DPanicLevel</span> <span class="o">&amp;&amp;</span> <span class="p">!</span><span class="nx">s</span><span class="p">.</span><span class="nx">base</span><span class="p">.</span><span class="nf">Core</span><span class="p">().</span><span class="nf">Enabled</span><span class="p">(</span><span class="nx">lvl</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Â∞ÜÂèÇÊï∞ÂêàÂπ∂Âà∞ËØ≠Âè•‰∏≠
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">msg</span> <span class="o">:=</span> <span class="nf">getMessage</span><span class="p">(</span><span class="nx">template</span><span class="p">,</span> <span class="nx">fmtArgs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Check ÂèØ‰ª•Â∏ÆÂä©ÈÅøÂÖçÂàÜÈÖç‰∏Ä‰∏™ÂàÜÁâáÊù•‰øùÂ≠òÂ≠óÊÆµ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">ce</span> <span class="o">:=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">base</span><span class="p">.</span><span class="nf">Check</span><span class="p">(</span><span class="nx">lvl</span><span class="p">,</span> <span class="nx">msg</span><span class="p">);</span> <span class="nx">ce</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">ce</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nf">sweetenFields</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂáΩÊï∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ <code>InfoLevel</code> ÊòØÊó•ÂøóÁ∫ßÂà´ÔºåÂÖ∂Ê∫êÁ†ÅÂ¶Ç‰∏ã</p>
<p><code>zap@v1.16.0 - zapcore/level.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">const</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Debug Â∫îÊòØÂ§ßÈáèÁöÑÔºå‰∏îÈÄöÂ∏∏Âú®Áîü‰∫ßÁä∂ÊÄÅÁ¶ÅÁî®.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">DebugLevel</span> <span class="p">=</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">DebugLevel</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Info ÊòØÈªòËÆ§ÁöÑËÆ∞ÂΩï‰ºòÂÖàÁ∫ß.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">InfoLevel</span> <span class="p">=</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">InfoLevel</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Warn ÊØî info Êõ¥ÈáçË¶Å.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">WarnLevel</span> <span class="p">=</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">WarnLevel</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Error ÊòØÈ´ò‰ºòÂÖàÁ∫ßÁöÑ,Â¶ÇÊûúÁ®ãÂ∫èÈ°∫Âà©‰∏çÂ∫îËØ•‰∫ßÁîü‰ªª‰Ωï err Á∫ßÂà´Êó•Âøó.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">ErrorLevel</span> <span class="p">=</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">ErrorLevel</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// DPanic ÁâπÂà´ÈáçÂ§ßÁöÑÈîôËØØÔºåÂú®ÂºÄÂèëÊ®°Âºè‰∏ãÂºïËµ∑ panic. 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">DPanicLevel</span> <span class="p">=</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">DPanicLevel</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Panic ËÆ∞ÂΩïÊ∂àÊÅØÂêéË∞ÉÁî® panic.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">PanicLevel</span> <span class="p">=</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">PanicLevel</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Fatal ËÆ∞ÂΩïÊ∂àÊÅØÂêéË∞ÉÁî® os.Exit(1).
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">FatalLevel</span> <span class="p">=</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nx">FatalLevel</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>getMessage</code> ÂáΩÊï∞Â§ÑÁêÜ <code>template</code> Âíå <code>fmtArgs</code> ÂèÇÊï∞Ôºå‰∏ªË¶Å‰∏∫‰∏çÂêåÁöÑÂèÇÊï∞ÈÄâÊã©ÊúÄÂêàÈÄÇÁöÑÊñπÂºèÊãºÊé•Ê∂àÊÅØ</p>
<p><code>zap@v1.16.0 - sugar.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">getMessage</span><span class="p">(</span><span class="nx">template</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">fmtArgs</span> <span class="p">[]</span><span class="kd">interface</span><span class="p">{})</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Ê≤°ÊúâÂèÇÊï∞Áõ¥Êé•ËøîÂõû template
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">fmtArgs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">template</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">  <span class="c1">// Ê≠§Â§ÑË∞ÉÁî® Sprintf ‰ºö‰ΩøÁî®ÂèçÂ∞Ñ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">template</span> <span class="o">!=</span> <span class="s">&#34;&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="nx">template</span><span class="p">,</span> <span class="nx">fmtArgs</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">  <span class="c1">// Ê∂àÊÅØ‰∏∫Á©∫Âπ∂‰∏îÊúâ‰∏Ä‰∏™ÂèÇÊï∞ÔºåËøîÂõûËØ•ÂèÇÊï∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">fmtArgs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">str</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">fmtArgs</span><span class="p">[</span><span class="mi">0</span><span class="p">].(</span><span class="kt">string</span><span class="p">);</span> <span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="nx">str</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ËøîÂõûÊâÄÊúâ fmtArgs
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprint</span><span class="p">(</span><span class="nx">fmtArgs</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂÖ≥‰∫é <code>s.base.Check</code> ÔºåËøôÂ∞±ÈúÄË¶Å‰ªãÁªç<code>zapcore</code> Ôºå‰∏ãÈù¢ÂàÜÊûêÁõ∏ÂÖ≥Ê®°Âùó„ÄÇ</p>
<h4 id="zapcore">zapcore</h4>
<p><code>zapcore</code>ÂåÖ ÂÆö‰πâÂπ∂ÂÆûÁé∞‰∫ÜÊûÑÂª∫ zap ÁöÑ‰ΩéÁ∫ßÊé•Âè£„ÄÇÈÄöËøáÊèê‰æõËøô‰∫õÊé•Âè£ÁöÑÊõø‰ª£ÂÆûÁé∞ÔºåÂ§ñÈÉ®ÂåÖÂèØ‰ª•Êâ©Â±ï zap ÁöÑÂäüËÉΩ„ÄÇ</p>
<p><code>zap@v1.16.0 - zapcore/core.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// Core ÊòØ‰∏Ä‰∏™ÊúÄÂ∞èÁöÑ„ÄÅÂø´ÈÄüÁöÑËÆ∞ÂΩïÂô®Êé•Âè£„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Core</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Êé•Âè£ÔºåÂÜ≥ÂÆö‰∏Ä‰∏™Êó•ÂøóÁ≠âÁ∫ßÊòØÂê¶ÂêØÁî®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">LevelEnabler</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Âêë core Ê∑ªÂä†Ê†∏ÂøÉ‰∏ä‰∏ãÊñá
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">With</span><span class="p">([]</span><span class="nx">Field</span><span class="p">)</span> <span class="nx">Core</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Ê£ÄÊü•ÊòØÂê¶Â∫îËÆ∞ÂΩïÊèê‰æõÁöÑÊù°ÁõÆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// Âú®Ë∞ÉÁî® write ‰πãÂâçÂøÖÈ°ªÂÖàË∞ÉÁî® Check
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">Check</span><span class="p">(</span><span class="nx">Entry</span><span class="p">,</span> <span class="o">*</span><span class="nx">CheckedEntry</span><span class="p">)</span> <span class="o">*</span><span class="nx">CheckedEntry</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ÂÜôÂÖ•Êó•Âøó
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">Write</span><span class="p">(</span><span class="nx">Entry</span><span class="p">,</span> <span class="p">[]</span><span class="nx">Field</span><span class="p">)</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ÂêåÊ≠•Âà∑Êñ∞ÁºìÂ≠òÊó•Âøó(Â¶ÇÊûúÊúâ)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">Sync</span><span class="p">()</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>Check</code> ÂáΩÊï∞Êúâ‰∏§‰∏™ÂÖ•ÂèÇ„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Ë°®Á§∫‰∏ÄÊù°ÂÆåÊï¥ÁöÑÊó•ÂøóÊ∂àÊÅØÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫ nil Êó∂‰ºö‰ªé <code>sync.Pool</code> ÂàõÂª∫ÁöÑÊ±†‰∏≠ÂèñÂá∫<code>*CheckedEntry </code>ÂØπË±°Â§çÁî®ÔºåÈÅøÂÖçÈáçÊñ∞ÂàÜÈÖçÂÜÖÂ≠ò„ÄÇËØ•ÂáΩÊï∞ÂÜÖÈÉ®Ë∞ÉÁî® <code>AddCore</code> ÂÆûÁé∞Ëé∑Âèñ <code>*CheckedEntry</code>ÂØπË±°ÔºåÊúÄÂêéË∞ÉÁî® <code>Write</code> ÂÜôÂÖ•Êó•ÂøóÊ∂àÊÅØ„ÄÇ</p>
<p>Áõ∏ÂÖ≥‰ª£Á†ÅÂÖ®ÈÉ®Ë¥¥Âú®‰∏ãÈù¢ÔºåÊõ¥Â§ö‰ªãÁªçËØ∑Áúã‰ª£Á†Å‰∏≠ÁöÑÊ≥®Èáä„ÄÇ</p>
<p><code>zap@v1.16.0 - zapcore/entry.go</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// ‰∏Ä‰∏™ entry Ë°®Á§∫‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊó•ÂøóÊ∂àÊÅØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Entry</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Level</span>      <span class="nx">Level</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Time</span>       <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
</span></span><span class="line"><span class="cl">	<span class="nx">LoggerName</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Message</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Caller</span>     <span class="nx">EntryCaller</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Stack</span>      <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// ‰ΩøÁî® sync.Pool Â§çÁî®‰∏¥Êó∂ÂØπË±°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="nx">_cePool</span> <span class="p">=</span> <span class="nx">sync</span><span class="p">.</span><span class="nx">Pool</span><span class="p">{</span><span class="nx">New</span><span class="p">:</span> <span class="kd">func</span><span class="p">()</span> <span class="kd">interface</span><span class="p">{}</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="o">&amp;</span><span class="nx">CheckedEntry</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">cores</span><span class="p">:</span> <span class="nb">make</span><span class="p">([]</span><span class="nx">Core</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}}</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‰ªéÊ±†‰∏≠ÂèñÂá∫ CheckedEntry Âπ∂ÂàùÂßãÂåñÂÄº
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">getCheckedEntry</span><span class="p">()</span> <span class="o">*</span><span class="nx">CheckedEntry</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ce</span> <span class="o">:=</span> <span class="nx">_cePool</span><span class="p">.</span><span class="nf">Get</span><span class="p">().(</span><span class="o">*</span><span class="nx">CheckedEntry</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ce</span><span class="p">.</span><span class="nf">reset</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">ce</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// CheckedEntry ÊòØ enter Âíå cores ÈõÜÂêà„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">CheckedEntry</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Entry</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ErrorOutput</span> <span class="nx">WriteSyncer</span>
</span></span><span class="line"><span class="cl">	<span class="nx">dirty</span>       <span class="kt">bool</span>  <span class="c1">// Áî®‰∫éÊ£ÄÊµãÊòØÂê¶ÈáçÂ§ç‰ΩøÁî®ÂØπË±°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">should</span>      <span class="nx">CheckWriteAction</span> <span class="c1">// ÁªìÊùüÁ®ãÂ∫èÁöÑÂä®‰Ωú
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">cores</span>       <span class="p">[]</span><span class="nx">Core</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ÈáçÁΩÆÂØπË±°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">ce</span> <span class="o">*</span><span class="nx">CheckedEntry</span><span class="p">)</span> <span class="nf">reset</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ce</span><span class="p">.</span><span class="nx">Entry</span> <span class="p">=</span> <span class="nx">Entry</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ce</span><span class="p">.</span><span class="nx">ErrorOutput</span> <span class="p">=</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ce</span><span class="p">.</span><span class="nx">dirty</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ce</span><span class="p">.</span><span class="nx">should</span> <span class="p">=</span> <span class="nx">WriteThenNoop</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">cores</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// ‰∏çË¶Å‰øùÁïôÂØπ core ÁöÑÂºïÁî®!!
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">ce</span><span class="p">.</span><span class="nx">cores</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ce</span><span class="p">.</span><span class="nx">cores</span> <span class="p">=</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">cores</span><span class="p">[:</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Â∞Ü entry ÂÜôÂÖ•Â≠òÂÇ®ÁöÑ cores
</span></span></span><span class="line"><span class="cl"><span class="c1">// ÊúÄÂêéÂ∞Ü CheckedEntry Ê∑ªÂä†Âà∞Ê±†‰∏≠
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">ce</span> <span class="o">*</span><span class="nx">CheckedEntry</span><span class="p">)</span> <span class="nf">Write</span><span class="p">(</span><span class="nx">fields</span> <span class="o">...</span><span class="nx">Field</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">ce</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">dirty</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">ErrorOutput</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// Ê£ÄÊü• CheckedEntry ÁöÑ‰∏çÂÆâÂÖ®ÈáçÂ§ç‰ΩøÁî®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintf</span><span class="p">(</span><span class="nx">ce</span><span class="p">.</span><span class="nx">ErrorOutput</span><span class="p">,</span> <span class="s">&#34;%v Unsafe CheckedEntry re-use near Entry %+v.\n&#34;</span><span class="p">,</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">Time</span><span class="p">,</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">Entry</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">ce</span><span class="p">.</span><span class="nx">ErrorOutput</span><span class="p">.</span><span class="nf">Sync</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ce</span><span class="p">.</span><span class="nx">dirty</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">err</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl"> 	<span class="c1">// ÂÜôÂÖ•Êó•ÂøóÊ∂àÊÅØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">cores</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">err</span> <span class="p">=</span> <span class="nx">multierr</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">cores</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nf">Write</span><span class="p">(</span><span class="nx">ce</span><span class="p">.</span><span class="nx">Entry</span><span class="p">,</span> <span class="nx">fields</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Â§ÑÁêÜÂÜÖÈÉ®ÂèëÁîüÁöÑÈîôËØØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">ErrorOutput</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintf</span><span class="p">(</span><span class="nx">ce</span><span class="p">.</span><span class="nx">ErrorOutput</span><span class="p">,</span> <span class="s">&#34;%v write error: %v\n&#34;</span><span class="p">,</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">Time</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">ce</span><span class="p">.</span><span class="nx">ErrorOutput</span><span class="p">.</span><span class="nf">Sync</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">should</span><span class="p">,</span> <span class="nx">msg</span> <span class="o">:=</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">should</span><span class="p">,</span> <span class="nx">ce</span><span class="p">.</span><span class="nx">Message</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Â∞Ü CheckedEntry Ê∑ªÂä†Âà∞Ê±†‰∏≠Ôºå‰∏ãÊ¨°Â§çÁî®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">putCheckedEntry</span><span class="p">(</span><span class="nx">ce</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">  <span class="c1">// Âà§Êñ≠ÊòØÂê¶ÈúÄË¶Å panic ÊàñÂÖ∂ÂÆÉÊñπÂºèÁªàÊ≠¢Á®ãÂ∫è..
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">switch</span> <span class="nx">should</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="nx">WriteThenPanic</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nb">panic</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="nx">WriteThenFatal</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">exit</span><span class="p">.</span><span class="nf">Exit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="nx">WriteThenGoexit</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">runtime</span><span class="p">.</span><span class="nf">Goexit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">ce</span> <span class="o">*</span><span class="nx">CheckedEntry</span><span class="p">)</span> <span class="nf">AddCore</span><span class="p">(</span><span class="nx">ent</span> <span class="nx">Entry</span><span class="p">,</span> <span class="nx">core</span> <span class="nx">Core</span><span class="p">)</span> <span class="o">*</span><span class="nx">CheckedEntry</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">ce</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ‰ªéÊ±†‰∏≠Âèñ CheckedEntryÔºåÂáèÂ∞ëÂÜÖÂ≠òÂàÜÈÖç
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">ce</span> <span class="p">=</span> <span class="nf">getCheckedEntry</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="nx">ce</span><span class="p">.</span><span class="nx">Entry</span> <span class="p">=</span> <span class="nx">ent</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ce</span><span class="p">.</span><span class="nx">cores</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">ce</span><span class="p">.</span><span class="nx">cores</span><span class="p">,</span> <span class="nx">core</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">ce</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="doc">Doc</h2>
<p><a class="link" href="https://pkg.go.dev/go.uber.org/zap"  target="_blank" rel="noopener"
    >https://pkg.go.dev/go.uber.org/zap</a></p>
<h2 id="qa">QA</h2>
<h3 id="ËÆæËÆ°ÈóÆÈ¢ò">ËÆæËÆ°ÈóÆÈ¢ò</h3>
<h4 id="‰∏∫‰ªÄ‰πàË¶ÅÂú®loggerÊÄßËÉΩ‰∏äËä±Ë¥πËøô‰πàÂ§öÁ≤æÂäõÂë¢">‰∏∫‰ªÄ‰πàË¶ÅÂú®LoggerÊÄßËÉΩ‰∏äËä±Ë¥πËøô‰πàÂ§öÁ≤æÂäõÂë¢Ôºü</h4>
<p>ÂΩìÁÑ∂ÔºåÂ§ßÂ§öÊï∞Â∫îÁî®Á®ãÂ∫è‰∏ç‰ºöÊ≥®ÊÑèÂà∞LoggerÊÖ¢ÁöÑÂΩ±ÂìçÔºöÂõ†‰∏∫ÂÆÉ‰ª¨ÊØèÊ¨°Êìç‰Ωú‰ºöÈúÄË¶ÅÂá†ÂçÅÊàñÂá†ÁôæÊØ´ÁßíÔºåÊâÄ‰ª•È¢ùÂ§ñÁöÑÂá†ÊØ´ÁßíÂæàÊó†ÂÖ≥Á¥ßË¶Å„ÄÇ</p>
<p>Âè¶‰∏ÄÊñπÈù¢Ôºå‰∏∫‰ªÄ‰πà‰∏ç‰ΩøÁî®ÁªìÊûÑÂåñÊó•ÂøóÂø´ÈÄüÂºÄÂèëÂë¢Ôºü‰∏éÂÖ∂‰ªñÊó•ÂøóÂåÖÁõ∏ÊØî<code>SugaredLogger</code>ÁöÑ‰ΩøÁî®Âπ∂‰∏çÈöæÔºå<code>Logger</code>‰ΩøÁªìÊûÑÂåñËÆ∞ÂΩïÂú®ÂØπÊÄßËÉΩË¶ÅÊ±Ç‰∏•Ê†ºÁöÑÁéØÂ¢É‰∏≠Êàê‰∏∫ÂèØËÉΩ„ÄÇÂú® Go ÂæÆÊúçÂä°ÁöÑÊû∂ÊûÑ‰ΩìÁ≥ª‰∏≠Ôºå‰ΩøÊØè‰∏™Â∫îÁî®Á®ãÂ∫èÁîöËá≥Á®çÂæÆÊõ¥ÊúâÊïàÂú∞Âä†ÈÄüÊâßË°å„ÄÇ</p>
<h4 id="‰∏∫‰ªÄ‰πàÊ≤°ÊúâloggerÂíåsugaredloggerÊé•Âè£">‰∏∫‰ªÄ‰πàÊ≤°Êúâ<code>Logger</code>Âíå<code>SugaredLogger</code>Êé•Âè£Ôºü</h4>
<p>‰∏çÂÉèÁÜüÊÇâÁöÑ<code>io.Writer</code>Âíå<code>http.Handler</code>„ÄÅ<code>Logger</code>Âíå<code>SugaredLogger</code>Êé•Âè£Â∞ÜÂåÖÊã¨<strong>ÂæàÂ§ö</strong>ÊñπÊ≥ï„ÄÇÊ≠£Â¶Ç <a class="link" href="https://go-proverbs.github.io/"  target="_blank" rel="noopener"
    >Rob Pike Ë∞öËØ≠ÊåáÂá∫</a>ÁöÑÔºå&ldquo;The bigger the interface, the weaker the abstraction&rdquo;(Êé•Âè£Ë∂äÂ§ßÔºåÊäΩË±°Ë∂äÂº±)„ÄÇÊé•Âè£‰πüÊòØ‰∏•Ê†ºÁöÑÔºå‰ªª‰ΩïÊõ¥ÊîπÈÉΩÈúÄË¶ÅÂèëÂ∏É‰∏Ä‰∏™Êñ∞ÁöÑ‰∏ªÁâàÊú¨ÔºåÂõ†‰∏∫ÂÆÉÊâìÁ†¥‰∫ÜÊâÄÊúâÁ¨¨‰∏âÊñπÂÆûÁé∞„ÄÇ</p>
<p><code>Logger</code>Âíå<code>SugaredLogger</code>Êàê‰∏∫ÂÖ∑‰ΩìÁ±ªÂûãÂπ∂‰∏ç‰ºöÁâ∫Áâ≤Â§™Â§öÊäΩË±°ÔºåËÄå‰∏îÂÆÉÂÖÅËÆ∏Êàë‰ª¨Âú®‰∏çÂºïÂÖ•Á†¥ÂùèÊÄßÊõ¥ÊîπÁöÑÊÉÖÂÜµ‰∏ãÊ∑ªÂä†ÊñπÊ≥ï„ÄÇÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÂ∫îËØ•ÂÆö‰πâÂπ∂‰æùËµñÂè™ÂåÖÂê´ÊÇ®‰ΩøÁî®ÁöÑÊñπÊ≥ïÁöÑÊé•Âè£„ÄÇ</p>
<h4 id="‰∏∫‰ªÄ‰πàÊàëÁöÑ‰∏Ä‰∫õÊó•Âøó‰ºö‰∏¢Â§±">‰∏∫‰ªÄ‰πàÊàëÁöÑ‰∏Ä‰∫õÊó•Âøó‰ºö‰∏¢Â§±Ôºü</h4>
<p>Âú®ÂêØÁî®ÊäΩÊ†∑Êó∂ÔºåÈÄöËøázapÊúâÊÑèÂú∞Âà†Èô§Êó•Âøó„ÄÇÁîü‰∫ßÈÖçÁΩÆ(Â¶ÇNewProductionConfig()ËøîÂõûÁöÑÈÇ£Ê†∑)ÊîØÊåÅÊäΩÊ†∑ÔºåËøôÂ∞ÜÂØºËá¥Âú®‰∏ÄÁßíÈíüÂÜÖÂØπÈáçÂ§çÊó•ÂøóËøõË°åÊäΩÊ†∑„ÄÇÊúâÂÖ≥‰∏∫‰ªÄ‰πàÂêØÁî®ÊäΩÊ†∑ÁöÑÊõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇËßÅ<a class="link" href="https://github.com/uber-go/zap/blob/master/FAQ.md#why-sample-application-logs"  target="_blank" rel="noopener"
    >&ldquo;‰∏∫‰ªÄ‰πà‰ΩøÁî®Á§∫‰æãÂ∫îÁî®Êó•Âøó&quot;‰∏≠ÂêØÁî®ÈááÊ†∑</a>.</p>
<h4 id="‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Á§∫‰æãÂ∫îÁî®Á®ãÂ∫èÊó•Âøó">‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Á§∫‰æãÂ∫îÁî®Á®ãÂ∫èÊó•ÂøóÔºü</h4>
<p>Â∫îÁî®Á®ãÂ∫èÁªèÂ∏∏‰ºöÈÅáÂà∞ÈîôËØØÔºåÊó†ËÆ∫ÊòØÂõ†‰∏∫ÈîôËØØËøòÊòØÂõ†‰∏∫Áî®Êà∑‰ΩøÁî®ÈîôËØØ„ÄÇËÆ∞ÂΩïÈîôËØØÊó•ÂøóÈÄöÂ∏∏ÊòØ‰∏Ä‰∏™Â•Ω‰∏ªÊÑèÔºå‰ΩÜÂÆÉÂæàÂÆπÊòì‰ΩøËøôÁßçÁ≥üÁ≥ïÁöÑÊÉÖÂÜµÂèòÂæóÊõ¥Á≥üÔºö‰∏ç‰ªÖÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÂ∫îÂØπÂ§ßÈáèÈîôËØØÔºåÂÆÉËøòËä±Ë¥πÈ¢ùÂ§ñÁöÑCPUÂë®ÊúüÂíåI/OËÆ∞ÂΩïËøô‰∫õÈîôËØØÊó•Âøó„ÄÇÁî±‰∫éÂÜôÂÖ•ÈÄöÂ∏∏ÊòØÂ∫èÂàóÂåñÁöÑÔºåÂõ†Ê≠§Âú®ÊúÄÈúÄË¶ÅÊó∂Ôºå<code>logger</code>‰ºöÈôêÂà∂ÂêûÂêêÈáè„ÄÇ</p>
<p>ÈááÊ†∑ÈÄöËøáÂà†Èô§ÈáçÂ§çÁöÑÊó•ÂøóÊù°ÁõÆÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇÂú®Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫è‰ºöËæìÂá∫ÊØè‰∏™ËÆ∞ÂΩï„ÄÇ‰ΩÜÊòØÔºåÂΩìÁ±ª‰ººÁöÑËÆ∞ÂΩïÊØèÁßíËæìÂá∫Êï∞ÁôæÊàñÊï∞ÂçÉÊ¨°Êó∂Ôºåzap ÂºÄÂßã‰∏¢ÂºÉÈáçÂ§ç‰ª•‰øùÂ≠òÂêûÂêêÈáè„ÄÇ</p>
<h4 id="‰∏∫‰ªÄ‰πàÁªìÊûÑÂåñÁöÑÊó•Âøó-api-Èô§‰∫ÜÊé•ÂèóÂ≠óÊÆµ‰πãÂ§ñËøòÂèØ‰ª•Êé•Êî∂Ê∂àÊÅØ">‰∏∫‰ªÄ‰πàÁªìÊûÑÂåñÁöÑÊó•Âøó API Èô§‰∫ÜÊé•ÂèóÂ≠óÊÆµ‰πãÂ§ñËøòÂèØ‰ª•Êé•Êî∂Ê∂àÊÅØÔºü</h4>
<p>‰∏ªËßÇ‰∏äÔºåÊàë‰ª¨ÂèëÁé∞Âú®ÁªìÊûÑÂåñ‰∏ä‰∏ãÊñá‰∏≠ÈôÑÂ∏¶‰∏Ä‰∏™ÁÆÄÁü≠ÁöÑÊèèËø∞ÊòØÊúâÂ∏ÆÂä©ÁöÑ„ÄÇËøôÂú®ÂºÄÂèëËøáÁ®ã‰∏≠Âπ∂‰∏çÂÖ≥ÈîÆÔºå‰ΩÜÂÆÉ‰ΩøË∞ÉËØïÂíåÊìç‰Ωú‰∏çÁÜüÊÇâÁöÑÁ≥ªÁªüÊõ¥Âä†ÂÆπÊòì„ÄÇ</p>
<p>Êõ¥ÂÖ∑‰ΩìÂú∞ËØ¥Ôºåzap ÁöÑÈááÊ†∑ÁÆóÊ≥ï‰ΩøÁî®Ê∂àÊÅØÊù•ËØÜÂà´ÈáçÂ§çÁöÑÊù°ÁõÆ„ÄÇÊ†πÊçÆÊàë‰ª¨ÁöÑÁªèÈ™åÔºåËøôÊòØ‰∏Ä‰∏™‰ªã‰∫éÈöèÊú∫ÊäΩÊ†∑ÔºàÈÄöÂ∏∏Âú®Ë∞ÉËØïÊó∂Âà†Èô§ÊÇ®ÈúÄË¶ÅÁöÑÁ°ÆÂàáÊù°ÁõÆÔºâÂíåÂìàÂ∏åÂÆåÊï¥Êù°ÁõÆÔºà‰ª£‰ª∑È´òÔºâ‰πãÈó¥ÁöÑ‰∏Ä‰∏™‰∏≠Èó¥ÊñπÊ≥ï„ÄÇ</p>
<h4 id="‰∏∫‰ªÄ‰πàË¶ÅÂåÖÊã¨ÂÖ®Â±Ä-loggers">‰∏∫‰ªÄ‰πàË¶ÅÂåÖÊã¨ÂÖ®Â±Ä loggersÔºü</h4>
<p>Áî±‰∫éËÆ∏Â§öÂÖ∂‰ªñÊó•ÂøóÂåÖÈÉΩÂåÖÂê´ÂÖ®Â±ÄÂèòÈáèloggerÔºåËÆ∏Â§öÂ∫îÁî®Á®ãÂ∫èÊ≤°ÊúâËÆæËÆ°ÊàêÊé•Êî∂logger‰Ωú‰∏∫ÊòæÂºèÂèÇÊï∞„ÄÇÊõ¥ÊîπÂáΩÊï∞Á≠æÂêçÈÄöÂ∏∏ÊòØ‰∏ÄÁßçÁ†¥ÂùèÊÄßÁöÑÊõ¥ÊîπÔºåÂõ†Ê≠§zapÂåÖÂê´ÂÖ®Â±Älogger‰ª•ÁÆÄÂåñËøÅÁßª„ÄÇ</p>
<p>Â∞ΩÂèØËÉΩÈÅøÂÖç‰ΩøÁî®ÂÆÉ‰ª¨„ÄÇ</p>
<h4 id="‰∏∫‰ªÄ‰πàÂåÖÊã¨‰∏ìÁî®ÁöÑpanicÂíåfatalÊó•ÂøóÁ∫ßÂà´">‰∏∫‰ªÄ‰πàÂåÖÊã¨‰∏ìÁî®ÁöÑPanicÂíåFatalÊó•ÂøóÁ∫ßÂà´Ôºü</h4>
<p>‰∏ÄËà¨Êù•ËØ¥ÔºåÂ∫îÁî®Á®ãÂ∫è‰ª£Á†ÅÂ∫î‰ºòÈõÖÂú∞Â§ÑÁêÜÈîôËØØÔºåËÄå‰∏çÊòØ‰ΩøÁî®<code>panic</code>Êàñ<code>os.Exit</code>„ÄÇ‰ΩÜÊòØÔºåÊØè‰∏™ËßÑÂàôÈÉΩÊúâ‰æãÂ§ñÔºåÂΩìÈîôËØØÁ°ÆÂÆûÊó†Ê≥ïÊÅ¢Â§çÊó∂ÔºåÂ¥©Ê∫ÉÊòØÂæàÂ∏∏ËßÅÁöÑ„ÄÇ‰∏∫‰∫ÜÈÅøÂÖç‰∏¢Â§±‰ªª‰Ωï‰ø°ÊÅØÔºàÂ∞§ÂÖ∂ÊòØÂ¥©Ê∫ÉÁöÑÂéüÂõ†ÔºâÔºåËÆ∞ÂΩïÂô®ÂøÖÈ°ªÂú®ËøõÁ®ãÈÄÄÂá∫‰πãÂâçÂÜ≤Ê¥ó‰ªª‰ΩïÁºìÂÜ≤Êù°ÁõÆ„ÄÇ</p>
<p>Zap ÈÄöËøáÊèê‰æõÂú®ÈÄÄÂá∫ÂâçËá™Âä®ÂÜ≤Ê¥óÁöÑ<code>Panic</code>Âíå<code>Fatal</code>ËÆ∞ÂΩïÊñπÊ≥ïÊù•‰ΩøËøô‰∏ÄÊìç‰ΩúÂèòÂæóÁÆÄÂçï„ÄÇÂΩìÁÑ∂ÔºåËøôÂπ∂‰∏ç‰øùËØÅÊó•ÂøóÊ∞∏Ëøú‰∏ç‰ºö‰∏¢Â§±Ôºå‰ΩÜÂÆÉÊ∂àÈô§‰∫ÜÂ∏∏ËßÅÁöÑÈîôËØØ„ÄÇ</p>
<p>ÊúâÂÖ≥ËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ Uber-go/zap#207 ‰∏≠ÁöÑËÆ®ËÆ∫„ÄÇ</p>
<h4 id="‰ªÄ‰πàÊòØdpanic">‰ªÄ‰πàÊòØ<code>DPanic</code>?</h4>
<p><code>DPanic</code>‰ª£Ë°®&quot;panic in development.&quot;„ÄÇÂú®development‰∏≠ÔºåÂÆÉ‰ºöÊâìÂç∞PanicÁ∫ßÂà´ÁöÑÊó•ÂøóÔºöÂèç‰πãÔºåÂÆÉÂ∞ÜÂèëÁîüÂú®ErrorÁ∫ßÂà´ÁöÑÊó•ÂøóÔºå<code>DPanic</code>Êõ¥Âä†ÂÆπÊòìÊçïËé∑ÂèØËÉΩ‰ΩÜÂÆûÈôÖ‰∏ä‰∏çÂ∫îËØ•ÂèëÁîüÁöÑÈîôËØØÔºåËÄå‰∏çÊòØÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠Panic„ÄÇ</p>
<p>Â¶ÇÊûú‰Ω†ÊõæÁªèÂÜôËøáËøôÊ†∑ÁöÑ‰ª£Á†ÅÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®<code>DPanic</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">panic</span><span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;shouldn&#39;t ever get here: %v&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂÆâË£ÖÈóÆÈ¢ò">ÂÆâË£ÖÈóÆÈ¢ò</h3>
<h4 id="ÈîôËØØexpects-import-gouberorgzapÊòØ‰ªÄ‰πàÊÑèÊÄù">ÈîôËØØ<code>expects import &quot;go.uber.org/zap&quot;</code>ÊòØ‰ªÄ‰πàÊÑèÊÄùÔºü</h4>
<p>Ë¶Å‰πàzapÂÆâË£ÖÈîôËØØÔºåË¶Å‰πàÊÇ®ÂºïÁî®‰∫Ü‰ª£Á†Å‰∏≠ÁöÑÈîôËØØÂåÖÂêç„ÄÇ</p>
<p>Zap ÁöÑÊ∫ê‰ª£Á†ÅÊâòÁÆ°Âú® GitHub ‰∏äÔºå‰ΩÜ  <a class="link" href="https://golang.org/cmd/go/#hdr-Remote_import_paths"  target="_blank" rel="noopener"
    >import path</a>ÊòØ  <code>go.uber.org/zap</code>ÔºåËÆ©Êàë‰ª¨È°πÁõÆÁª¥Êä§ËÄÖÔºåÂèØ‰ª•Êõ¥Êñπ‰æøÂú∞Ëá™Áî±ÁßªÂä®Ê∫ê‰ª£Á†Å„ÄÇÊâÄ‰ª•Âú®ÂÆâË£ÖÂíå‰ΩøÁî®ÂåÖÊó∂ÈúÄË¶ÅÊ≥®ÊÑèËøô‰∏ÄÁÇπ„ÄÇ</p>
<p>Â¶ÇÊûú‰Ω†ÈÅµÂæ™‰∏§‰∏™ÁÆÄÂçïÁöÑËßÑÂàôÔºåÂ∞±‰ºöÊ≠£Â∏∏Â∑•‰ΩúÔºöÂÆâË£Özap<code>go get -u go.uber.org/zap</code>Âπ∂ÂßãÁªàÂØºÂÖ•ÂÆÉÂú®‰Ω†ÁöÑ‰ª£Á†Å<code>import &quot;go.uber.org/zap&quot;</code>Ôºå‰ª£Á†Å‰∏çÂ∫îÂåÖÂê´‰ªª‰ΩïÂØπ<code>github.com/uber-go/zap</code>ÁöÑÂºïÁî®.</p>
<h3 id="Áî®Ê≥ïÈóÆÈ¢ò">Áî®Ê≥ïÈóÆÈ¢ò</h3>
<h4 id="zapÊòØÂê¶ÊîØÊåÅÊó•ÂøóÂàáÂâ≤">ZapÊòØÂê¶ÊîØÊåÅÊó•ÂøóÂàáÂâ≤Ôºü</h4>
<p>Zap ‰∏çÊîØÊåÅÂàáÂâ≤Êó•ÂøóÊñá‰ª∂ÔºåÂõ†‰∏∫Êàë‰ª¨Êõ¥ÂñúÊ¨¢Â∞ÜÊ≠§‰∫§ÁªôÂ§ñÈÉ®Á®ãÂ∫èÔºåÂ¶Ç<code>logrotate</code>.</p>
<p>‰ΩÜÊòØÔºåÊó•ÂøóÂàáÂâ≤ÂåÖÂæàÂÆπÊòìÈõÜÊàêÔºåÂ¶Ç  <a class="link" href="https://godoc.org/gopkg.in/natefinch/lumberjack.v2"  target="_blank" rel="noopener"
    ><code>gopkg.in/natefinch/lumberjack.v2</code></a> ‰Ωú‰∏∫<code>zapcore.WriteSyncer</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// lumberjack.Logger is already safe for concurrent use, so we don&#39;t need to
</span></span></span><span class="line"><span class="cl"><span class="c1">// lock it.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">w</span> <span class="o">:=</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nf">AddSync</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">lumberjack</span><span class="p">.</span><span class="nx">Logger</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Filename</span><span class="p">:</span>   <span class="s">&#34;/var/log/myapp/foo.log&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">MaxSize</span><span class="p">:</span>    <span class="mi">500</span><span class="p">,</span> <span class="c1">// megabytes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">MaxBackups</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">MaxAge</span><span class="p">:</span>     <span class="mi">28</span><span class="p">,</span> <span class="c1">// days
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="nx">core</span> <span class="o">:=</span> <span class="nx">zapcore</span><span class="p">.</span><span class="nf">NewCore</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="nx">zapcore</span><span class="p">.</span><span class="nf">NewJSONEncoder</span><span class="p">(</span><span class="nx">zap</span><span class="p">.</span><span class="nf">NewProductionEncoderConfig</span><span class="p">()),</span>
</span></span><span class="line"><span class="cl">  <span class="nx">w</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">zap</span><span class="p">.</span><span class="nx">InfoLevel</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">logger</span> <span class="o">:=</span> <span class="nx">zap</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="nx">core</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Êèí‰ª∂">Êèí‰ª∂</h4>
<p>Êàë‰ª¨ÂæàÂ∏åÊúõzap Êú¨Ë∫´ËÉΩÊª°Ë∂≥ÁöÑÊØè‰∏Ä‰∏™loggingÈúÄÊ±ÇÔºå‰ΩÜÊàë‰ª¨Âè™ÁÜüÊÇâÂ∞ëÊï∞Êó•ÂøóÊëÑÂÖ•(log ingestion)Á≥ªÁªü„ÄÅÂèÇÊï∞Ëß£Êûê(flag-parsing)ÂåÖÁ≠â„ÄÇÊâÄ‰ª•Êàë‰ª¨Êõ¥ÊÑøÊÑèÂèëÂ±ï zap Êèí‰ª∂ÁîüÊÄÅÁ≥ªÁªü„ÄÇ</p>
<p>‰∏ãÈù¢Êâ©Â±ïÂåÖÔºåÂèØ‰ª•‰Ωú‰∏∫ÂèÇËÄÉ‰ΩøÁî®Ôºö</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>ÂåÖ</th>
<th>ÈõÜÊàê</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>github.com/tchap/zapext</code></td>
<td>Sentry, syslog</td>
</tr>
<tr>
<td><code>github.com/fgrosse/zaptest</code></td>
<td>Ginkgo</td>
</tr>
<tr>
<td><code>github.com/blendle/zapdriver</code></td>
<td>Stackdriver</td>
</tr>
<tr>
<td><code>github.com/moul/zapgorm</code></td>
<td>Gorm</td>
</tr>
</tbody>
</table></div>
<h3 id="ÊÄßËÉΩÊØîËæÉ">ÊÄßËÉΩÊØîËæÉ</h3>
<blockquote>
<p>ËØ¥Êòé : ‰ª•‰∏ãËµÑÊñôÊù•Ê∫ê‰∫é zap ÂÆòÊñπÔºåZap Êèê‰æõÁöÑÂü∫ÂáÜÊµãËØïÊ∏ÖÊ•öÂú∞Ë°®ÊòéÔºå<a class="link" href="https://github.com/rs/zerolog"  target="_blank" rel="noopener"
    >zerolog</a>ÊòØ‰∏é Zap Á´û‰∫âÊúÄÊøÄÁÉàÁöÑ„ÄÇzeroloËøòÊèê‰æõÁªìÊûúÈùûÂ∏∏Áõ∏‰ººÁöÑ<a class="link" href="https://github.com/rs/zerolog#benchmarks"  target="_blank" rel="noopener"
    >Âü∫ÂáÜÊµãËØï</a>Ôºö</p>
</blockquote>
<p>ËÆ∞ÂΩï‰∏Ä‰∏™10‰∏™kvÂ≠óÊÆµÁöÑÊ∂àÊÅØÔºö</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Â∫ìÂêç</th>
<th>ÊØèÊ¨°Ëø≠‰ª£ËÄóÊó∂</th>
<th>ËÄóÊó∂Áõ∏ÊØîzap</th>
<th>ÊØèÊ¨°Ëø≠‰ª£ÂÜÖÂ≠òÂàÜÈÖçÊ¨°Êï∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>‚ö° zap</td>
<td>862 ns/op</td>
<td>+0%</td>
<td>5 allocs/op</td>
</tr>
<tr>
<td>‚ö° zap (sugared)</td>
<td>1250 ns/op</td>
<td>+45%</td>
<td>11 allocs/op</td>
</tr>
<tr>
<td>zerolog</td>
<td>4021 ns/op</td>
<td>+366%</td>
<td>76 allocs/op</td>
</tr>
<tr>
<td>go-kit</td>
<td>4542 ns/op</td>
<td>+427%</td>
<td>105 allocs/op</td>
</tr>
<tr>
<td>apex/log</td>
<td>26785 ns/op</td>
<td>+3007%</td>
<td>115 allocs/op</td>
</tr>
<tr>
<td>logrus</td>
<td>29501 ns/op</td>
<td>+3322%</td>
<td>125 allocs/op</td>
</tr>
<tr>
<td>log15</td>
<td>29906 ns/op</td>
<td>+3369%</td>
<td>122 allocs/op</td>
</tr>
</tbody>
</table></div>
<p>‰ΩøÁî®‰∏Ä‰∏™Â∑≤ÁªèÊúâ10‰∏™kvÂ≠óÊÆµÁöÑloggerËÆ∞ÂΩï‰∏ÄÊù°Ê∂àÊÅØÔºö</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Â∫ìÂêç</th>
<th>ÊØèÊ¨°Ëø≠‰ª£ËÄóÊó∂</th>
<th>ËÄóÊó∂Áõ∏ÊØîzap</th>
<th>ÊØèÊ¨°Ëø≠‰ª£ÂÜÖÂ≠òÂàÜÈÖçÊ¨°Êï∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>‚ö° zap</td>
<td>126 ns/op</td>
<td>+0%</td>
<td>0 allocs/op</td>
</tr>
<tr>
<td>‚ö° zap (sugared)</td>
<td>187 ns/op</td>
<td>+48%</td>
<td>2 allocs/op</td>
</tr>
<tr>
<td>zerolog</td>
<td>88 ns/op</td>
<td>-30%</td>
<td>0 allocs/op</td>
</tr>
<tr>
<td>go-kit</td>
<td>5087 ns/op</td>
<td>+3937%</td>
<td>103 allocs/op</td>
</tr>
<tr>
<td>log15</td>
<td>18548 ns/op</td>
<td>+14621%</td>
<td>73 allocs/op</td>
</tr>
<tr>
<td>apex/log</td>
<td>26012 ns/op</td>
<td>+20544%</td>
<td>104 allocs/op</td>
</tr>
<tr>
<td>logrus</td>
<td>27236 ns/op</td>
<td>+21516%</td>
<td>113 allocs/op</td>
</tr>
</tbody>
</table></div>
<p>ËÆ∞ÂΩï‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÊ≤°ÊúâÂ≠óÊÆµÊàñ<code>printf</code>È£éÊ†ºÁöÑÊ®°ÊùøÔºö</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Â∫ìÂêç</th>
<th>ÊØèÊ¨°Ëø≠‰ª£ËÄóÊó∂</th>
<th>ËÄóÊó∂Áõ∏ÊØîzap</th>
<th>ÊØèÊ¨°Ëø≠‰ª£ÂÜÖÂ≠òÂàÜÈÖçÊ¨°Êï∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>‚ö° zap</td>
<td>118 ns/op</td>
<td>+0%</td>
<td>0 allocs/op</td>
</tr>
<tr>
<td>‚ö° zap (sugared)</td>
<td>191 ns/op</td>
<td>+62%</td>
<td>2 allocs/op</td>
</tr>
<tr>
<td>zerolog</td>
<td>93 ns/op</td>
<td>-21%</td>
<td>0 allocs/op</td>
</tr>
<tr>
<td>go-kit</td>
<td>280 ns/op</td>
<td>+137%</td>
<td>11 allocs/op</td>
</tr>
<tr>
<td>standard library</td>
<td>499 ns/op</td>
<td>+323%</td>
<td>2 allocs/op</td>
</tr>
<tr>
<td>apex/log</td>
<td>1990 ns/op</td>
<td>+1586%</td>
<td>10 allocs/op</td>
</tr>
<tr>
<td>logrus</td>
<td>3129 ns/op</td>
<td>+2552%</td>
<td>24 allocs/op</td>
</tr>
<tr>
<td>log15</td>
<td>3887 ns/op</td>
<td>+3194%</td>
<td>23 allocs/op</td>
</tr>
</tbody>
</table></div>
<h3 id="Áõ∏‰ººÁöÑÂ∫ì">Áõ∏‰ººÁöÑÂ∫ì</h3>
<p><a class="link" href="https://github.com/sirupsen/logrus"  target="_blank" rel="noopener"
    >logrus</a>  ÂäüËÉΩÂº∫Â§ß</p>
<p><a class="link" href="https://github.com/rs/zerolog"  target="_blank" rel="noopener"
    >zerolog</a> ÊÄßËÉΩÁõ∏ÂΩìÂ•ΩÁöÑÊó•ÂøóÂ∫ì</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/%E6%97%A5%E5%BF%97/">Êó•Âøó</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="ixugo/ixugo.github.io"
        issue-term="pathname"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
  <section class="copyright">
    &copy;
    
    2018 -
    
    2023 ixugo
  </section>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <section class="powerby">

    
    <span id="busuanzi_container_page_pv">Êú¨ÊñáÈòÖËØªÈáè
      <span style="font-size: 14px" id="busuanzi_value_page_pv"></span>
      Ê¨°Ôºå</span>
    <span id="busuanzi_container_site_pv">ÊÄªËÆøÈóÆÈáè
      <span style="font-size: 14px" id="busuanzi_value_site_pv"></span>
      Ê¨° </span>ÔºåÊÄªËÆøÂÆ¢Êï∞
    <span style="font-size: 14px" id="busuanzi_value_site_uv"></span> ‰∫∫
    <br />


    Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> .&nbsp;&nbsp;
    Theme <a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener"
      data-version="3.16.0">Stack</a> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
  </section>




  <script>
    function count() {
      let href = window.location.href;
      let regexp = /^https?:\/\/blog.golang.space\/?(page\/[\d]+\/?)?$/;
      if (regexp.test(href)) {
        let e = document.getElementById("busuanzi_container_page_pv");
        e.innerText = "";
      }
    }
    window.onload = count;
  </script>
</footer>

    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
